//v2.1.94
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).getVPAIDAd=e()}(function(){var F;return function n(r,o,a){function s(t,e){if(!o[t]){if(!r[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}i=o[t]={exports:{}},r[t][0].call(i.exports,function(e){return s(r[t][1][e]||e)},i,i.exports,n,r,o,a)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,i){function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=function(t){function e(){var t=j();return{addCallback:function(e){t.addCallback(e,1)},executeCallbacks:t.executeCallbacks}}var d,f,i,n,r,o,a,s,u,l,c,p,m,h,v,g,b,y,A,E,_={init:function(e,t,i){e=((e,t,i)=>{var n,r=C.get(),o=(r&&r.config&&r.config.staticConfig&&(n=M.extractIASProxyPartnerId(r.config.staticConfig)),r=S.PROXY_PARTNER_URL_PREFIX[n]||M.getVideoApiDomain(),n=n==S.PROXY_PARTNER_IDS.AMAZON?S.GDPR_QUERY_PARAMS.AMAZON:"",["//"+r+"/db2/video/",t+"/",i+"/","skeleton.js?videoId=",D.getVideoId(),n].join(""));t=function(e){o=[o,"&adsafe_url=",e.val,"&adsafe_type=",e.key].join("")};try{e.urls.forEach(t),o=[o,"&adsafe_jsinfo=br:",e.br].join("")}catch(e){I.report(S.DIAGNOSTIC.BUILD_VIDEOAPI_URL,e)}return o})(L(),e,t),E=i,M.sendUrlRequest(e,G)}},j=function(){var n=[];return{addCallback:function(e,t){var i=0;t=t||Number.MAX_VALUE,n.push(function(){i<t&&(i++,e.apply({},arguments))})},executeCallbacks:function(){var t=arguments;n.forEach(function(e){e.apply({},t)})}}},S={INTERNAL_VERSION:"3.8.9",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",STATIC_DOMAIN:"static.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}},PROXY_PARTNER_URL_PREFIX:{37103:"vfw.amazon-adsystem.com/ias/ivt/fw"},PROXY_PARTNER_IDS:{AMAZON:37103},GDPR_QUERY_PARAMS:{AMAZON:"&gdpr=${GDPR}&gdpr_consent=${GDPR_CONSENT_278}"}},w=(A=window,{isFriendly:function(){var e=!1;try{e=!!this.getTop().document}catch(e){}return e},getWin:function(){return A},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?A=e.defaultView:e&&e.parentWindow?A=e.parentWindow:I.report(S.DIAGNOSTIC.SET_CONTEXT,{message:""})},getTop:function(){return A.top},getDoc:function(){return A.document}}),T=(h=!(m=[]),v=function(t){var i="";return Object.keys(t).forEach(function(e){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(e)&&(i+="&"+e+"="+t[e])}),i},g=function(e){if(D.isEstablished())try{(t=M.stringify(e))&&("AdImpression"===e.messageType?M.getWindow()[p](t):M.getWindow().postMessage(t,"*"))}catch(e){I.report(S.DIAGNOSTIC.DISPATCH_MESSAGE,e)}else if(D.canNeverBeEstablished()){var t=M.getFwServerDomain(),i=T.config;try{"AdImpression"===e.messageType&&(T.isCmTag?M.sendUrlRequest(["//"+t,"/mon?",v(i)].join("")):T.isFwTag&&M.sendUrlRequest(["//"+t,"/rfw/st/",i.advEntityId+"/"+i.pubEntityId,"/skeleton.js"].join("")))}catch(e){I.report(S.DIAGNOSTIC.DISPATCH_MESSAGE,e)}}else try{m.push(e)}catch(e){I.report(S.DIAGNOSTIC.CACHE_MESSAGE,e)}},b=function(e,t){try{g({messageType:e,id:D.getVideoId(),time:M.now(),partner:k.getPartnerCode(),eventData:t})}catch(e){I.report(S.DIAGNOSTIC.SEND_EVENT,e)}},y={AdImpression:function(e,t){var i=C.getInjector();h||(t&&(t.ext_passthrough=T.passThroughObj),h=!0,M.sendMonitoringDebugPixel(S.MONITORING.AD_IMPRESSION,T.monitoringQS()),i.onInjectionResolution(function(){b(e,t)}),i.resolveInjection())},AdStopped:x,AdVideoComplete:x,AdError:function(e,t){M.sendMonitoringDebugPixel(S.MONITORING.AD_ERROR,T.monitoringQS()),b(e,t)}},{sendEvent:function(e,t){var i=y[e]||b;C.vans.hasBegun()&&i(e,t)},setImpressionCallback:function(e){p=e},flushUnsentEvents:function(){try{m.forEach(g)}catch(e){I.report(S.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,e)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){h=!1,m.length=0}}),I={report:function(e,t,i){if(!c[e])try{c[e]=!0;var n="//"+M.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(k.getPartnerCode())+"_"+e+"&err:"+encodeURIComponent(t.message);i&&(n+="&config:"+encodeURIComponent(JSON.stringify(i))),M.sendUrlRequest(n)}catch(e){}}},O={initCM:function(e,t){var i,n;if(!C.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");w.setWin(t),C.setPreErrorConfig(e,"cm");try{if(!e.anId)throw Error("Missing anId");C.vans.begin(),n=new N(t),C.setInjector(n),C.setConfig(e),M.sendMonitoringDebugPixel(S.MONITORING.VANS_INITIALIZED,P.buildMonitoringQS()),M.sendMonitoringDebugPixel(S.MONITORING.IMPRESSION_DOMAIN_BLOCKING,P.buildMonitoringQS(),M.getFwServerDomain()),n.sendInjectionDiagnostics(),i=e&&e.staticConfig&&e.staticConfig.useStatic?"/":"/jsvid",R(i,e,t,n)}catch(e){I.report(S.DIAGNOSTIC.INIT_CM,e)}}},initFW:function(e,t,i){var n;if(!C.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");w.setWin(t),C.setPreErrorConfig(e,"fw");try{if(!e.advEntityId||!e.pubEntityId)throw Error("Missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);C.vans.begin(),n=new N(t),C.setInjector(n),C.setConfig(e),M.sendMonitoringDebugPixel(S.MONITORING.VANS_INITIALIZED,P.buildMonitoringQS()),M.sendMonitoringDebugPixel(S.MONITORING.IMPRESSION_DOMAIN_BLOCKING,P.buildMonitoringQS(),M.getFwServerDomain()),n.sendInjectionDiagnostics(),i&&_.init(e.advEntityId,e.pubEntityId,i),R(e&&e.staticConfig&&e.staticConfig.useStatic?"/fw.js":"/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js",e,t,n)}catch(e){I.report(S.DIAGNOSTIC.INIT_FW,e)}}}},k={initCM:function(e,t){O.initCM(e,t)},initFW:function(e,t,i){O.initFW(e,t,i)},getPartnerCode:function(){return C.get().partnerCode},getPassThroughObj:function(){return C.get().passThroughObj},getAltMonDomain:function(){return C.get().monDomain},hasDebugEnabled:function(){return C.get().debugEnabled}},D=(u=s=!(c={}),{getVideoId:l=function(){return a=a||M.generateUID()},setNodeInterface:function(e){var t,i,n,r,o=l();try{t="data-integralas-vid-"+o,i="IASid"+o,n="blockAd"+o,r="getIasVidBridgeVersion"+o,e.setAttribute(t,""),(e=w.getDoc().querySelector("*["+t+"]")||e)[n]=M.noop,e[i]=U,e[r]=function(){return"2"},e.getVersion=function(){return S.INTERNAL_VERSION}}catch(e){I.report(S.DIAGNOSTIC.SET_NODE_INTERFACE,e)}},isEstablished:function(){return s},canNeverBeEstablished:function(){return u},giveUpOnHandshaking:function(){u=!0,T.flushUnsentEvents()},resetHandshake:function(){u=s=!1}}),P={buildMonitoringQS:function(){var e=S.PSUEDO_IMPRESSION_ID_PREFIX+D.getVideoId(),t=C.getInfoParams();return["&chanId="+t.anId,"planId="+t.advEntityId,"placementId="+t.pubEntityId,"advId="+t.campId,"pubOrder="+t.placementId,"pubCreative="+t.creativeId,"impId="+(t.impId||e),"ts="+Date.now(),"custom="+S.INTERNAL_VERSION,"custom2=jv3&custom3="+C.get().tagType,"adsafe_par"].join("&")}},C=(r=!(n={}),o={},{vans:{hasBegun:function(){return r},begin:function(){r=!0}},setInjector:function(e){i=e},getInjector:function(){return i},setPreErrorConfig:function(e,t){n.tagType=t;t="string"==typeof(t=e.partner)?t.replace(/[^\w-.]/g,""):t;n.partnerCode=t,n.debugEnabled=e.debug&&e.debug.enabled,n.debugEnabled&&(n.monDomain=e.debug.monDomain)},setConfig:function(e){var t,i;t=e,"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach(function(e){o[e]=t[e]}),o.monDomain=n.monDomain,n.passThroughObj={vv:S.INTERNAL_VERSION,vanstag:n.tagType,xcamp:o.campId,xplac:o.placementId,xcreat:o.creativeId,ximp:o.impId,xpc:n.partnerCode},n.config=e,i={isFwTag:"fw"===n.tagType,isCmTag:"cm"===n.tagType,config:e},T.monitoringQS=P.buildMonitoringQS,T.passThroughObj=n.passThroughObj,Object.keys(i).forEach(function(e){T[e]=i[e]})},getInfoParams:function(){return o},get:function(){return n}}),N=function(d){function f(e,t){var i,n,r,o=M.getFwServerDomain();try{i=["//",o,e,"?videoId=",D.getVideoId(),(n=t,r="",Object.keys(n).forEach(function(e){"advEntityId"!=e&&"pubEntityId"!=e&&"partner"!=e&&("staticConfig"===e?(e=M.extractIASProxyPartnerId(n[e]))&&(r+="&iasProxyPartnerId="+e):r+="&"+e+"="+n[e])}),r)].join("")}catch(e){I.report(S.DIAGNOSTIC.BUILD_SRC_URL,e)}return i}var p=!1,m=!1,h=new e,v=!1;return{injectTagScript:function(e,t){var i,n,r,o,a=M.getDocument();if(r=d&&d.ownerDocument,o=r&&r.parentWindow,!(r&&r.defaultView||o))m=!0,D.giveUpOnHandshaking();else try{var s,u=C.get().config,l=u&&u.staticConfig&&u.staticConfig.parameters;(s=a.createElement("script")).src=f(e,t),l&&s.setAttribute("data-ias-parameters",u.staticConfig.parameters),s.addEventListener("load",function(e){M.sendMonitoringDebugPixel(S.MONITORING.FWJS_LOAD_SUCCESS,P.buildMonitoringQS())}),s.addEventListener("error",function(e){D.giveUpOnHandshaking(),M.sendMonitoringDebugPixel(S.MONITORING.FWJS_LOAD_ERROR,P.buildMonitoringQS())}),i=s,c(),p||(n=setInterval(c,200))}catch(e){D.giveUpOnHandshaking(),M.sendMonitoringPixel(S.MONITORING.INJECTION_ERR)}function c(){!p&&d.parentNode?(d.parentNode.appendChild(i),clearInterval(n),m=p=!0,M.sendMonitoringDebugPixel(S.MONITORING.FWJS_INJECTED,P.buildMonitoringQS())):v&&(m=!0,clearInterval(n),D.giveUpOnHandshaking()),m&&h.executeCallbacks()}},sendInjectionDiagnostics:function(){var e=d&&d.ownerDocument,t=d&&d.parentNode,i=e&&(e.defaultView||e.parentWindow),n=S.MONITORING.AD_NODE_TYPE+"_"+(d?d.constructor.name||d.nodeName||H(d):"null");d||M.sendMonitoringDebugPixel(S.MONITORING.AD_NODE_NULL,P.buildMonitoringQS()),d&&!t&&M.sendMonitoringDebugPixel(S.MONITORING.AD_NODE_DETACHED,P.buildMonitoringQS()),d&&!e&&M.sendMonitoringDebugPixel(S.MONITORING.AD_NODE_NO_DOC,P.buildMonitoringQS()),e&&!i&&M.sendMonitoringDebugPixel(S.MONITORING.AD_NODE_NO_WINDOW,P.buildMonitoringQS()),M.sendMonitoringDebugPixel(n,P.buildMonitoringQS())},onInjectionResolution:function(e){h.addCallback(e),m&&h.executeCallbacks()},resolveInjection:function(){v=!0}}},V=function(){function n(e){var t,i=!1;try{i="unloadComplete"===(t=JSON.parse(e.data)).msg&&t.id==D.getVideoId()}catch(e){}i&&(r(),M.getWindow().removeEventListener("message",n))}var r,t=!1;return{registerMeasurementCompleteHandler:function(e){r=e,t||(M.getWindow().addEventListener("message",n),t=!0)}}},M={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(e){try{this.sendUrlRequest(["//"+M.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(k.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+e)].join(""))}catch(e){I.report(S.DIAGNOSTIC.SEND_MONITORING_PIXEL,e)}},sendMonitoringDebugPixel:(d=[S.MONITORING.AD_STOPPED],f={},function(e,t,i){var n=k.hasDebugEnabled(),r=-1<d.indexOf(e)&&f[e];if(n&&!r)try{var o=S.DIAGNOSTIC_MONITORING_DOMAIN,a=k.getAltMonDomain(),a=(i=i||a||o)===a?"925116":"10173",s=M.addProtocolToDomain(i),u=encodeURIComponent(e),l=encodeURIComponent(k.getPartnerCode()),c=t.replace(/=undefined&/g,"=&");M.sendUrlRequest(s+"/mon?anId="+a+"&campId="+l+"&pubId="+u+c),f[e]=!0}catch(e){I.report(S.DIAGNOSTIC.SEND_MONITORING_PIXEL,e)}}),sendUrlRequest:function(e,t){var i,n;if(e){i=this.getWindow();try{n=new i.XMLHttpRequest,t&&(n.onreadystatechange=t),n.open(S.HTTP.VERBS.GET,e),n.send()}catch(e){}}},stringify:function(e){if("AdImpression"!==e.messageType)return JSON.stringify(e);var t={},i=(t.passthroughObj=k.getPassThroughObj(),"");try{i=JSON.stringify(e)}catch(e){return void I.report(S.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,e,t)}return i},addProtocolToDomain:function(e){return e.match(/^[a-zA-Z]+:\/\//)?e:"https://"+e},getWindow:function(){return w.getWin()},windowIsTop:function(){return w.getWin()===w.getTop()},getDocument:function(){return w.getDoc()},generateUID:function(){var e,t="";try{for(e=0;e<S.S4_ITERATIONS;e++)t=[t,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(e){}return t},getFwServerDomain:function(){var e=C.get().config.staticConfig;return e&&e.useStatic?e.origin?e.origin+e.path:S.STATIC_DOMAIN:t||S.PROD_DOMAIN},getVideoApiDomain:function(){return t||S.PROD_DOMAIN},noop:function(){},extractIASProxyPartnerId:function(e){try{if(e&&e.parameters)return e.parameters.match(/iasProxyPartnerId=(\d+)/)[1]}catch(e){}}};function U(e,t){return e==l()&&(s=!0,T.setImpressionCallback(t),M.sendMonitoringDebugPixel(S.MONITORING.HANDSHAKE_SUCCESS,T.monitoringQS()),T.flushUnsentEvents()),s?S.VIDEO_CHANNEL:null}function R(e,t,i,n){D.setNodeInterface(i),"function"==typeof t.onMeasurementComplete&&(new V).registerMeasurementCompleteHandler(t.onMeasurementComplete);var r={};Object.getOwnPropertyNames(t).forEach(function(e){"debug"!==e&&"onMeasurementComplete"!==e&&(r[e]=t[e])}),n.injectTagScript(e,r)}function x(e,t){M.sendMonitoringDebugPixel(S.MONITORING.AD_STOPPED,T.monitoringQS()),b(e,t)}function L(){var a=function(e){return void 0!==e};return{br:(()=>{var e="u";try{a(M.getWindow().opera)&&a(M.getWindow().opera.buildNumber)?e="o":a(M.getWindow().mozInnerScreenY)?e="g":a(M.getWindow().chrome)&&a(M.getWindow().chrome.csi)?e="c":a(M.getWindow().msWriteProfilerMark)&&a(M.getWindow().crypto)?e="e":a(M.getWindow().attachEvent)||a(M.getWindow().msCrypto)?e="i":a(M.getWindow().WebKitPoint)&&(e="w")}catch(e){}return e})(),urls:(()=>{var e,t=function(){var t={g:"",q:""};try{t.q=M.getWindow().parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(e){var i,n,r=(r=e.message).substring(r.lastIndexOf("<")+1,r.lastIndexOf(">"));(n=(n=a(r))&&(n=!1,a(M.getWindow().navigator))&&a(M.getWindow().navigator.userAgent)&&(M.getWindow(),null!==(i=M.getWindow().navigator.userAgent.match(/Firefox\/([\.0-9]+)/)))&&2==i.length&&(i=i[1].split("."),3==parseInt(i[0],10))&&parseInt(i[1],10)<=6&&(3!=i.length||parseInt(i[2],10)<=13)?!0:n)&&(t.g=r)}return t},i={};try{i.a=encodeURIComponent(M.getWindow().top.location.href)}catch(e){}try{i.b=encodeURIComponent(M.getWindow().parent.location.href)}catch(e){}if(!M.windowIsTop()){try{i.c=encodeURIComponent(M.getWindow().parent.document.referrer)}catch(e){}try{i.e=encodeURIComponent(M.getWindow().document.referrer)}catch(e){}}try{i.d=encodeURIComponent(M.getWindow().location.href)}catch(e){}try{var n=t(),r=(i.g=encodeURIComponent(n.g||""),i.q=encodeURIComponent(n.q||""),(e=M.getWindow().location)&&e.ancestorOrigins?e.ancestorOrigins:[]);!w.isFriendly()&&1<r.length&&!n.g&&(i.g=encodeURIComponent(r[r.length-1]))}catch(e){}var o,t=[];for(o in i=(e=>{var t,i,n={};for(i in e)e.hasOwnProperty(i)&&(t=e[i],a(n[t])?n[t]+=i:n[t]=i);for(i in e={},n)n.hasOwnProperty(i)&&(t=n[i],e[t]=i);return e})(i=(e=>{for(var t in e){var i;!e.hasOwnProperty(t)||""!==(i=e[t])&&"null"!==i&&"undefined"!==i&&null!==i&&a(i)||delete e[t]}return e})(i)))i.hasOwnProperty(o)&&t.push({key:o,val:i[o]});return t.sort(function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0}),t})()}}function G(){if(this.readyState==S.XHR.READY_STATE.DONE)if(this.status==S.HTTP.STATUS_CODE.OK)try{E("failed"===JSON.parse(this.responseText).action?S.BLOCKING_RESPONSE.BLOCK:S.BLOCKING_RESPONSE.SAFE)}catch(e){I.report(S.DIAGNOSTIC.BLOCK_AD,e)}else I.report(S.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})}return{initFW:k.initFW,initCM:k.initCM,sendEvent:T.sendEvent}}},{}],2:[function(e,t,i){t.exports=function(r,e,t,i){function n(n){return function(){var e,t=-1;if("number"==typeof(e=r&&r.getAdVolume?r.getAdVolume():e)&&!isNaN(e)&&0<=e&&(t=e),u.addEvent({type:n,adVolume:t}),-1!==f.indexOf(n)&&r&&r.unsubscribe&&!d)for(var i in d=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(i))try{r.unsubscribe(c[i],i)}catch(e){}}}var o,a,s=document.createElement("script"),u={events:[],addEvent:function(e){l.sendEvent?(u.events&&(l.sendEvent(u.events),u.events=!1),l.sendEvent(e)):u.events.push(e)}},l={adData:{ids:t,vpaid:r,build:"cc07a80-clean"},dispatchEvent:u.addEvent},c=(t="_moatApi"+Math.floor(1e8*Math.random()),{AdStarted:n("AdStarted"),AdStopped:n("AdStopped"),AdSkipped:n("AdSkipped"),AdLoaded:n("AdLoaded"),AdLinearChange:n("AdLinearChange"),AdSizeChange:n("AdSizeChange"),AdExpandedChange:n("AdExpandedChange"),AdSkippableStateChange:n("AdSkippableStateChange"),AdDurationChange:n("AdDurationChange"),AdRemainingTimeChange:n("AdRemainingTimeChange"),AdVolumeChange:n("AdVolumeChange"),AdImpression:n("AdImpression"),AdClickThru:n("AdClickThru"),AdInteraction:n("AdInteraction"),AdVideoStart:n("AdVideoStart"),AdVideoFirstQuartile:n("AdVideoFirstQuartile"),AdVideoMidpoint:n("AdVideoMidpoint"),AdVideoThirdQuartile:n("AdVideoThirdQuartile"),AdVideoComplete:n("AdVideoComplete"),AdUserAcceptInvitation:n("AdUserAcceptInvitation"),AdUserMinimize:n("AdUserMinimize"),AdUserClose:n("AdUserClose"),AdPaused:n("AdPaused"),AdPlaying:n("AdPlaying"),AdError:n("AdError")}),d=!1,f=["AdStopped","AdSkipped","AdVideoComplete"];if(r&&r.subscribe)for(var p in c)c.hasOwnProperty&&c.hasOwnProperty(p)&&r.subscribe(c[p],p);try{a=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,a=window}return a[t]=l,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+i+"/moatvideo.js#"+t,l}},{}],3:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default="2.1.94"},{}],4:[function(e,H,t){!function(U,L,G){!function(){!function(){var e,v={};function g(){}function r(e){return e}function t(e){return!!e}function i(e){return!e}var n="object"==typeof self&&self.self===self&&self||"object"==typeof L&&L.global===L&&L||this;function c(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function b(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}null!=n&&(e=n.async),v.noConflict=function(){return n.async=e,v};var j=Object.prototype.toString,y=Array.isArray||function(e){return"[object Array]"===j.call(e)};function a(e){return y(e)||"number"==typeof e.length&&0<=e.length&&e.length%1==0}function A(e,t){for(var i=-1,n=e.length;++i<n;)t(e[i],i,e)}function s(e,t){for(var i=-1,n=e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function o(e){return s(Array(e),function(e,t){return t})}function E(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var _=Object.keys||function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i};function d(e){var t,i,n=-1;return a(e)?(t=e.length,function(){return++n<t?n:null}):(i=_(e),t=i.length,function(){return++n<t?i[n]:null})}function S(n,r){return r=null==r?n.length-1:+r,function(){for(var e=Math.max(arguments.length-r,0),t=Array(e),i=0;i<e;i++)t[i]=arguments[i+r];switch(r){case 0:return n.call(this,t);case 1:return n.call(this,arguments[0],t)}}}function u(n){return function(e,t,i){return n(e,i)}}var l="function"==typeof G&&G,f=l?function(e){l(e)}:function(e){setTimeout(e,0)};function p(l){return function(i,n,r){r=b(r||g);var o=d(i=i||[]);if(l<=0)return r(null);var a=!1,s=0,u=!1;!function t(){if(a&&s<=0)return r(null);for(;s<l&&!u;){var e=o();if(null===e)return a=!0,void(s<=0&&r(null));s+=1,n(i[e],e,c(function(e){--s,e?(r(e),u=!0):t()}))}}()}}function m(n){return function(e,t,i){return n(v.eachOf,e,t,i)}}function h(r){return function(e,t,i,n){return r(p(t),e,i,n)}}function w(n){return function(e,t,i){return n(v.eachOfSeries,e,t,i)}}function T(e,t,r,i){i=b(i||g);var o=a(t=t||[])?[]:{};e(t,function(e,i,n){r(e,function(e,t){o[i]=t,n(e)})},function(e){i(e,o)})}function I(e,t,r,i){var o=[];e(t,function(t,i,n){r(t,function(e){e&&o.push({index:i,value:t}),n()})},function(){i(s(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function O(e,t,i,n){I(e,t,function(e,t){i(e,function(e){t(!e)})},n)}function k(a,s,u){return function(e,t,n,r){function i(){r&&r(u(!1,void 0))}function o(t,e,i){if(!r)return i();n(t,function(e){r&&s(e)&&(r(u(!0,t)),r=n=!1),i()})}3<arguments.length?a(e,t,o,i):(r=n,n=t,a(e,o,i))}}function D(e,t){return t}function P(e,t,i){i=i||g;var r=a(t)?[]:{};e(t,function(e,i,n){e(S(function(e,t){t.length<=1&&(t=t[0]),r[i]=t,n(e)}))},function(e){i(e,r)})}function C(e,t,n,i){var r=[];e(t,function(e,t,i){n(e,function(e,t){r=r.concat(t||[]),i(e)})},function(e){i(e,r)})}function N(i,e,t){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function n(t,e,i,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(t.started=!0,0===(e=y(e)?e:[e]).length&&t.idle())return v.setImmediate(function(){t.drain()});A(e,function(e){e={data:e,callback:n||g};i?t.tasks.unshift(e):t.tasks.push(e),t.tasks.length===t.concurrency&&t.saturated()}),v.setImmediate(t.process)}var r=0,o=[],a={tasks:[],concurrency:e,payload:t,saturated:g,empty:g,drain:g,started:!1,paused:!1,push:function(e,t){n(a,e,!1,t)},kill:function(){a.drain=g,a.tasks=[]},unshift:function(e,t){n(a,e,!0,t)},process:function(){for(;!a.paused&&r<a.concurrency&&a.tasks.length;){var e=a.payload?a.tasks.splice(0,a.payload):a.tasks.splice(0,a.tasks.length),t=s(e,function(e){return e.data}),e=(0===a.tasks.length&&a.empty(),r+=1,o.push(e[0]),c(((t,i)=>function(){--r;var n=!1,e=arguments;A(i,function(i){A(o,function(e,t){e!==i||n||(o.splice(t,1),n=!0)}),i.callback.apply(i,e)}),t.tasks.length+r===0&&t.drain(),t.process()})(a,e)));i(t,e)}},length:function(){return a.tasks.length},running:function(){return r},workersList:function(){return o},idle:function(){return a.tasks.length+r===0},pause:function(){a.paused=!0},resume:function(){if(!1!==a.paused){a.paused=!1;for(var e=Math.min(a.concurrency,a.tasks.length),t=1;t<=e;t++)v.setImmediate(a.process)}}};return a}function M(i){return S(function(e,t){e.apply(null,t.concat([S(function(e,t){"object"!=typeof console||e||console[i]&&A(t,function(e){})})]))})}function R(n){return function(e,t,i){n(o(e),t,i)}}function V(o){return S(function(t,e){var i=S(function(n){var r=this,e=n.pop();return o(t,function(e,t,i){e.apply(r,n.concat([i]))},e)});return e.length?i.apply(this,e):i})}function x(n){return S(function(e){var t=e.pop(),i=(e.push(function(){var e=arguments;i?v.setImmediate(function(){t.apply(null,e)}):t.apply(null,e)}),!0);n.apply(this,e),i=!1})}"object"==typeof U&&"function"==typeof U.nextTick?v.nextTick=U.nextTick:v.nextTick=f,v.setImmediate=l?f:v.nextTick,v.forEach=v.each=function(e,t,i){return v.eachOf(e,u(t),i)},v.forEachSeries=v.eachSeries=function(e,t,i){return v.eachOfSeries(e,u(t),i)},v.forEachLimit=v.eachLimit=function(e,t,i,n){return p(t)(e,u(i),n)},v.forEachOf=v.eachOf=function(e,t,i){i=b(i||g);for(var n,r=d(e=e||[]),o=0;null!=(n=r());)o+=1,t(e[n],n,c(a));function a(e){o--,e?i(e):null===n&&o<=0&&i(null)}0===o&&i(null)},v.forEachOfSeries=v.eachOfSeries=function(e,n,r){r=b(r||g);var o=d(e=e||[]),a=o();!function t(){var i=!0;if(null===a)return r(null);n(e[a],a,c(function(e){if(e)r(e);else{if(null===(a=o()))return r(null);i?v.setImmediate(t):t()}})),i=!1}()},v.forEachOfLimit=v.eachOfLimit=function(e,t,i,n){p(t)(e,i,n)},v.map=m(T),v.mapSeries=w(T),v.mapLimit=h(T),v.inject=v.foldl=v.reduce=function(e,n,r,t){v.eachOfSeries(e,function(e,t,i){r(n,e,function(e,t){n=t,i(e)})},function(e){t(e,n)})},v.foldr=v.reduceRight=function(e,t,i,n){e=s(e,r).reverse();v.reduce(e,t,i,n)},v.transform=function(e,n,r,t){3===arguments.length&&(t=r,r=n,n=y(e)?[]:{}),v.eachOf(e,function(e,t,i){r(n,e,t,i)},function(e){t(e,n)})},v.select=v.filter=m(I),v.selectLimit=v.filterLimit=h(I),v.selectSeries=v.filterSeries=w(I),v.reject=m(O),v.rejectLimit=h(O),v.rejectSeries=w(O),v.any=v.some=k(v.eachOf,t,r),v.someLimit=k(v.eachOfLimit,t,r),v.all=v.every=k(v.eachOf,i,i),v.everyLimit=k(v.eachOfLimit,i,i),v.detect=k(v.eachOf,r,D),v.detectSeries=k(v.eachOfSeries,r,D),v.detectLimit=k(v.eachOfLimit,r,D),v.sortBy=function(e,t,i){function n(e,t){e=e.criteria,t=t.criteria;return e<t?-1:t<e?1:0}v.map(e,function(i,n){t(i,function(e,t){e?n(e):n(null,{value:i,criteria:t})})},function(e,t){if(e)return i(e);i(null,s(t.sort(n),function(e){return e.value}))})},v.auto=function(s,u,l){"function"==typeof arguments[1]&&(l=u,u=null),l=b(l||g);var e=_(s),t=e.length;if(!t)return l(null);u=u||t;var c={},d=0,f=!1,i=[];function p(e){i.unshift(e)}function m(e){e=E(i,e);0<=e&&i.splice(e,1)}function h(){t--,A(i.slice(0),function(e){e()})}p(function(){t||l(null,c)}),A(e,function(o){if(!f){for(var e,t=y(s[o])?s[o]:[s[o]],i=S(function(e,t){var i,n,r;d--,t.length<=1&&(t=t[0]),e?(i={},r=function(e,t){i[t]=e},A(_(n=c),function(e){r(n[e],e)}),i[o]=t,f=!0,l(e,i)):(c[o]=t,v.setImmediate(h))}),a=t.slice(0,t.length-1),n=a.length;n--;){if(!(e=s[a[n]]))throw new Error("Has nonexistent dependency in "+a.join(", "));if(y(e)&&0<=E(e,o))throw new Error("Has cyclic dependencies")}r()?(d++,t[t.length-1](i,c)):p(function e(){r()&&(d++,m(e),t[t.length-1](i,c))})}function r(){return d<u&&(n=function(e,t){return e&&c.hasOwnProperty(t)},r=!0,A(a,function(e,t,i){r=n(r,e,t,i)}),r)&&!c.hasOwnProperty(o);var n,r}})},v.retry=function(e,t,i){var n=[],r={times:5,interval:0};var o=arguments.length;if(o<1||3<o)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");if(o<=2&&"function"==typeof e&&(i=t,t=e),"function"!=typeof e){o=r;if("number"==typeof e)o.times=parseInt(e,10)||5;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);o.times=parseInt(e.times,10)||5,o.interval=parseInt(e.interval,10)||0}}function a(i,t){for(;r.times;){var e=!--r.times;n.push(((e,n)=>function(i){e(function(e,t){i(!e||n,{err:e,result:t})},t)})(r.task,e)),!e&&0<r.interval&&n.push((t=>function(e){setTimeout(function(){e(null)},t)})(r.interval))}v.series(n,function(e,t){t=t[t.length-1],(i||r.callback)(t.err,t.result)})}return r.callback=i,r.task=t,r.callback?a():a},v.waterfall=function(e,r){return r=b(r||g),y(e)?e.length?void function i(n){return S(function(e,t){e?r.apply(null,[e].concat(t)):((e=n.next())?t.push(i(e)):t.push(r),x(n).apply(null,t))})}(v.iterator(e))():r():(e=new Error("First argument to waterfall must be an array of functions"),r(e))},v.parallel=function(e,t){P(v.eachOf,e,t)},v.parallelLimit=function(e,t,i){P(p(t),e,i)},v.series=function(e,t){P(v.eachOfSeries,e,t)},v.iterator=function(n){return function e(t){function i(){return n.length&&n[t].apply(null,arguments),i.next()}return i.next=function(){return t<n.length-1?e(t+1):null},i}(0)},v.apply=S(function(t,i){return S(function(e){return t.apply(null,i.concat(e))})}),v.concat=m(C),v.concatSeries=w(C),v.whilst=function(i,n,r){var o;r=r||g,i()?(o=S(function(e,t){e?r(e):i.apply(this,t)?n(o):r.apply(null,[null].concat(t))}),n(o)):r(null)},v.doWhilst=function(e,t,i){var n=0;return v.whilst(function(){return++n<=1||t.apply(this,arguments)},e,i)},v.until=function(e,t,i){return v.whilst(function(){return!e.apply(this,arguments)},t,i)},v.doUntil=function(e,t,i){return v.doWhilst(e,function(){return!t.apply(this,arguments)},i)},v.during=function(i,n,r){r=r||g;var o=S(function(e,t){e?r(e):(t.push(a),i.apply(this,t))}),a=function(e,t){e?r(e):t?n(o):r(null)};i(a)},v.doDuring=function(e,t,i){var n=0;v.during(function(e){n++<1?e(null,!0):t.apply(this,arguments)},e,i)},v.queue=function(i,e){return N(function(e,t){i(e[0],t)},e,1)},v.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}function n(t,e,i,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(t.started=!0,0===(e=y(e)?e:[e]).length)return v.setImmediate(function(){t.drain()});A(e,function(e){e={data:e,priority:i,callback:"function"==typeof n?n:g};t.tasks.splice(((e,t,i)=>{for(var n=-1,r=e.length-1;n<r;){var o=n+(r-n+1>>>1);0<=i(t,e[o])?n=o:r=o-1}return n})(t.tasks,e,r)+1,0,e),t.tasks.length===t.concurrency&&t.saturated(),v.setImmediate(t.process)})}var o=v.queue(e,t);return o.push=function(e,t,i){n(o,e,t,i)},delete o.unshift,o},v.cargo=function(e,t){return N(e,1,t)},v.log=M("log"),v.dir=M("dir"),v.memoize=function(i,n){var o={},a={},s=Object.prototype.hasOwnProperty,e=(n=n||r,S(function(e){var t=e.pop(),r=n.apply(null,e);s.call(o,r)?v.setImmediate(function(){t.apply(null,o[r])}):s.call(a,r)?a[r].push(t):(a[r]=[t],i.apply(null,e.concat([S(function(e){o[r]=e;var t=a[r];delete a[r];for(var i=0,n=t.length;i<n;i++)t[i].apply(null,e)})])))}));return e.memo=o,e.unmemoized=i,e},v.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},v.times=R(v.map),v.timesSeries=R(v.mapSeries),v.timesLimit=function(e,t,i,n){return v.mapLimit(o(e),t,i,n)},v.seq=function(){var t=arguments;return S(function(e){var n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=g,v.reduce(t,e,function(e,t,i){t.apply(n,e.concat([S(function(e,t){i(e,t)})]))},function(e,t){i.apply(n,[e].concat(t))})})},v.compose=function(){return v.seq.apply(null,Array.prototype.reverse.call(arguments))},v.applyEach=V(v.eachOf),v.applyEachSeries=V(v.eachOfSeries),v.forever=function(e,t){var i=c(t||g),n=x(e);!function e(t){if(t)return i(t);n(e)}()},v.ensureAsync=x,v.constant=S(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),v.wrapSync=v.asyncify=function(r){return S(function(e){var t,i,n=e.pop();try{t=r.apply(this,e)}catch(e){return n(e)}("function"==(i=typeof(e=t))||"object"==i&&e)&&"function"==typeof t.then?t.then(function(e){n(null,e)}).catch(function(e){n(e.message?e:new Error(e))}):n(null,t)})},"object"==typeof H&&H.exports?H.exports=v:n.async=v}()}.call(this)}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:5,timers:6}],5:[function(e,t,i){var n,r,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length)&&p()}function p(){if(!c){for(var e=s(f),t=(c=!0,l.length);t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,!function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new m(e,t)),1!==l.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],6:[function(u,e,l){!function(i,s){!function(){var n=u("process/browser.js").nextTick,e=Function.prototype.apply,r=Array.prototype.slice,o={},a=0;function t(e,t){this._id=e,this._clearFn=t}l.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},l.setImmediate="function"==typeof i?i:function(e){var t=a++,i=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,n(function(){o[t]&&(i?e.apply(null,i):e.call(null),l.clearImmediate(t))}),t},l.clearImmediate="function"==typeof s?s:function(e){delete o[e]}}.call(this)}.call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":5,timers:6}],7:[function(j,e,t){function i(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t}function V(e,t){return typeof e===v&&-1!==M(t).indexOf(M(e))}function s(e,t){if(typeof e===v)return e=e.replace(/^\s\s*/,f),typeof t==m?e:e.substring(0,500)}function u(e,t){for(var i,n,r,o,a,s=0;s<t.length&&!o;){for(var u=t[s],l=t[s+1],c=i=0;c<u.length&&!o&&u[c];)if(o=u[c++].exec(e))for(n=0;n<l.length;n++)a=o[++i],typeof(r=l[n])===h&&0<r.length?2===r.length?typeof r[1]==p?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3===r.length?typeof r[1]!==p||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):d:this[r[0]]=a?r[1].call(this,a,r[2]):d:4===r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):d):this[r]=a||d;s+=2}}function n(e,t){for(var i in t)if(typeof t[i]===h&&0<t[i].length){for(var n=0;n<t[i].length;n++)if(V(t[i][n],e))return"?"===i?d:i}else if(V(t[i],e))return"?"===i?d:i;return t.hasOwnProperty("*")?t["*"]:e}function l(e,t){var i,n,r,o,a;return typeof e===h&&(t=e,e=d),this instanceof l?(i=typeof c!=m&&c.navigator?c.navigator:d,n=e||(i&&i.userAgent?i.userAgent:f),r=i&&i.userAgentData?i.userAgentData:d,o=t?((e,t)=>{var i,n={};for(i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n})(H,t):H,a=i&&i.userAgent==n,this.getBrowser=function(){var e,t={};return t[b]=d,t[E]=d,u.call(t,n,o.browser),t.major=typeof(e=t[E])===v?e.replace(/[^\d\.]/g,f).split(".")[0]:d,a&&i&&i.brave&&typeof i.brave.isBrave==p&&(t[b]="Brave"),t},this.getCPU=function(){var e={};return e[_]=d,u.call(e,n,o.cpu),e},this.getDevice=function(){var e={};return e[A]=d,e[g]=d,e[y]=d,u.call(e,n,o.device),a&&!e[y]&&r&&r.mobile&&(e[y]=S),a&&"Macintosh"==e[g]&&i&&typeof i.standalone!=m&&i.maxTouchPoints&&2<i.maxTouchPoints&&(e[g]="iPad",e[y]=w),e},this.getEngine=function(){var e={};return e[b]=d,e[E]=d,u.call(e,n,o.engine),e},this.getOS=function(){var e={};return e[b]=d,e[E]=d,u.call(e,n,o.os),a&&!e[b]&&r&&r.platform&&"Unknown"!=r.platform&&(e[b]=r.platform.replace(/chrome os/i,G).replace(/macos/i,"Mac OS")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===v&&500<e.length?s(e,500):e,this},this.setUA(n),this):new l(e,t).getResult()}var c,d,r,f,p,m,h,v,g,b,y,A,E,_,S,w,o,a,U,T,I,O,k,D,P,C,N,L,G,M,R,H,x;c="object"==typeof window?window:this,p="function",m="undefined",h="object",v="string",H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E="version",[b="name",I="Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,E],[/opios[\/ ]+([\w\.]+)/i],[E,[b,(R="Opera")+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[b,R+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[b,R]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[b,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[b,"UC"+(T="Browser")]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[b,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+T],E],[/\bfocus\/([\w\.]+)/i],[E,[b,(O="Firefox")+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[b,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[b,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[b,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[E,[b,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360"+(R=" Browser")]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+R],E],[/samsungbrowser\/([\w\.]+)/i],[E,[b,(R="Samsung")+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],E],[/metasr[\/ ]?([\d\.]+)/i],[E,[b,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,L="Facebook"],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[b,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,I+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[b,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[E,n,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],E],[/(wolvic)\/([\w\.]+)/i],[b,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[b,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[b,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[E,/master.|lts./,f=""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_="architecture","amd64"]],[/(ia32(?=;))/i],[[_,M=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,f,M]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,M]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g="model",[A="vendor",R],[y="type",w="tablet"]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[A,R],[y,S="mobile"]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[A,T="Apple"],[y,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[A,T],[y,w]],[/(macintosh);/i],[g,[A,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[A,"Sharp"],[y,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[A,"Huawei"],[y,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[A,"Huawei"],[y,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[g,/_/g," "],[A,C="Xiaomi"],[y,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[A,C],[y,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[A,"OPPO"],[y,S]],[/\b(opd2\d{3}a?) bui/i],[g,[A,"OPPO"],[y,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[A,"Vivo"],[y,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[A,"Realme"],[y,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[A,D="Motorola"],[y,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[A,D],[y,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[A,"LG"],[y,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[A,"LG"],[y,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[A,"Lenovo"],[y,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[A,"Nokia"],[y,S]],[/(pixel c)\b/i],[g,[A,D="Google"],[y,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[A,D],[y,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[A,P="Sony"],[y,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[A,P],[y,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[A,"OnePlus"],[y,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[A,a="Amazon"],[y,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[A,a],[y,S]],[/(playbook);[-\w\),; ]+(rim)/i],[g,A,[y,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[A,U="BlackBerry"],[y,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[A,"ASUS"],[y,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[A,"ASUS"],[y,S]],[/(nexus 9)/i],[g,[A,"HTC"],[y,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[A,[g,/_/g," "],[y,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[A,"TCL"],[y,w]],[/(itel) ((\w+))/i],[[A,M],g,[y,n,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[A,"Acer"],[y,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[A,"Meizu"],[y,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[A,"Ulefone"],[y,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[A,"Nothing"],[y,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[A,g,[y,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[A,g,[y,w]],[/(surface duo)/i],[g,[A,k="Microsoft"],[y,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[A,"Fairphone"],[y,S]],[/(u304aa)/i],[g,[A,"AT&T"],[y,S]],[/\bsie-(\w*)/i],[g,[A,"Siemens"],[y,S]],[/\b(rct\w+) b/i],[g,[A,"RCA"],[y,w]],[/\b(venue[\d ]{2,7}) b/i],[g,[A,"Dell"],[y,w]],[/\b(q(?:mv|ta)\w+) b/i],[g,[A,"Verizon"],[y,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[A,"Barnes & Noble"],[y,w]],[/\b(tm\d{3}\w+) b/i],[g,[A,"NuVision"],[y,w]],[/\b(k88) b/i],[g,[A,"ZTE"],[y,w]],[/\b(nx\d{3}j) b/i],[g,[A,"ZTE"],[y,S]],[/\b(gen\d{3}) b.+49h/i],[g,[A,"Swiss"],[y,S]],[/\b(zur\d{3}) b/i],[g,[A,"Swiss"],[y,w]],[/\b((zeki)?tb.*\b) b/i],[g,[A,"Zeki"],[y,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[A,"Dragon Touch"],g,[y,w]],[/\b(ns-?\w{0,9}) b/i],[g,[A,"Insignia"],[y,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[A,"NextBook"],[y,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[A,"Voice"],g,[y,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[A,"LvTel"],g,[y,S]],[/\b(ph-1) /i],[g,[A,"Essential"],[y,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[A,"Envizen"],[y,w]],[/\b(trio[-\w\. ]+) b/i],[g,[A,"MachSpeed"],[y,w]],[/\btu_(1491) b/i],[g,[A,"Rotor"],[y,w]],[/(shield[\w ]+) b/i],[g,[A,"Nvidia"],[y,w]],[/(sprint) (\w+)/i],[A,g,[y,S]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[A,k],[y,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[A,N="Zebra"],[y,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[A,N],[y,S]],[/smart-tv.+(samsung)/i],[A,[y,o="smarttv"]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[A,R],[y,o]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[A,"LG"],[y,o]],[/(apple) ?tv/i],[A,[g,T+" TV"],[y,o]],[/crkey/i],[[g,I+"cast"],[A,D],[y,o]],[/droid.+aft(\w+)( bui|\))/i],[g,[A,a],[y,o]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[A,"Sharp"],[y,o]],[/(bravia[\w ]+)( bui|\))/i],[g,[A,P],[y,o]],[/(mitv-\w{5}) bui/i],[g,[A,C],[y,o]],[/Hbbtv.*(technisat) (.*);/i],[A,g,[y,o]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[A,s],[g,s],[y,o]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,o]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[A,g,[y,C="console"]],[/droid.+; (shield) bui/i],[g,[A,"Nvidia"],[y,C]],[/(playstation [345portablevi]+)/i],[g,[A,P],[y,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[A,k],[y,C]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[g,[A,R],[y,P="wearable"]],[/((pebble))app/i],[A,g,[y,P]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[A,T],[y,P]],[/droid.+; (glass) \d/i],[g,[A,D],[y,P]],[/droid.+; (wt63?0{2,3})\)/i],[g,[A,N],[y,P]],[/(quest( \d| pro)?)/i],[g,[A,L],[y,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[A,[y,k="embedded"]],[/(aeobc)\b/i],[g,[A,a],[y,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,S]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[A,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,E],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,E],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[E,n,R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,n,R],[b,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"Mac OS"],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,E],[/\(bb(10);/i],[E,[b,U]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[E,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[b,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[b,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,G="Chromium OS"],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,E],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,E]]},l.VERSION="0.7.39",l.BROWSER=i([b,E,"major"]),l.CPU=i([_]),l.DEVICE=i([g,A,y,C,S,o,w,P,k]),l.ENGINE=l.OS=i([b,E]),typeof t!=m?(t=typeof e!=m&&e.exports?e.exports=l:t).UAParser=l:typeof F===p&&F.amd?F(function(){return l}):typeof c!=m&&(c.UAParser=l),(x=typeof c!=m&&(c.jQuery||c.Zepto))&&!x.ua&&(r=new l,x.ua=r.getResult(),x.ua.get=function(){return r.getUA()},x.ua.set=function(e){r.setUA(e);var t,i=r.getResult();for(t in i)x.ua[t]=i[t]})},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){e.pixels=e.pixels||[],e.sources=e.sources||[],e.features=e.features||[],e.options=e.options||{},e.videoClicks=e.videoClicks||{},e.videoClicks.clickTracking=e.videoClicks.clickTracking||[],e.error=e.error||[],e.skipOffset=e.skipOffset||null,e.metadata=e.metadata||{},e.metadata.demandSourceId=e.metadata.demandSourceId||0,t(null,e)}},{}],9:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){e.metadata.protocol=(0,n.getTrueUrlInfo)().topUrl.match(/^(\w+):/)[1]||"https",e.metadata.vpaidJSWrapperVersion=r.vpaidJSWrapperVersion,t(null,e)};var n=e("../util/url"),r=e("../metadata.json")},{"../metadata.json":28,"../util/url":37}],10:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;e=e("../constants.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=r(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=r(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==r(e)?e:e+""))(n.key),n)}}var a=e.NODE_TYPE.TEXT_NODE,s=e.NODE_TYPE.CDATA_SECTION_NODE,u=e.NODE_TYPE.COMMENT_NODE;i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return t=e,n=[{key:"allImmediateChildrenByNames",value:function(e,i){var n={};return e&&(e=e.childNodes||[],Array.prototype.forEach.call(e,function(e){var t=e.nodeName;1===e.nodeType&&(!i||0===i.length||-1<i.indexOf(t))&&(n[t]||(n[t]=[]),n[t].push(e))})),n}},{key:"getText",value:function(e){return function e(t){for(var i,n,r="",o=0;i=t[o++];)i.nodeType===a||i.nodeType===s?(n=i.nodeValue&&i.nodeValue.trim())&&(r+=n):i.nodeType!==u&&(r+=e(i.childNodes));return r}([e])}}],(i=null)&&o(t.prototype,i),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"../constants.js":19}],11:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){new n.default(e).fire("VISTA_LOADED"),t(null,e)};var n=(i=e("../diag"))&&i.__esModule?i:{default:i}},{"../diag":20}],12:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){((e,t,i)=>{t[0]&&(t[0]=n.default.apply(t[0],e)),n.default.waterfall(t,i)})(e,[r.default,o.default,a.default,s.default,u.default,l.default,c.default],t)};var n=d(e("async")),r=d(e("./parse_yahoo_adparams.js")),o=d(e("./add_defaults.js")),a=d(e("./add_metadata.js")),s=d(e("./fire_init_pixels.js")),u=d(e("./vast_parser.js")),l=d(e("./map_vast_vpaid.js")),c=d(e("./process_click_tracking.js"));function d(e){return e&&e.__esModule?e:{default:e}}},{"./add_defaults.js":8,"./add_metadata.js":9,"./fire_init_pixels.js":11,"./map_vast_vpaid.js":13,"./parse_yahoo_adparams.js":15,"./process_click_tracking.js":16,"./vast_parser.js":17,async:4}],13:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){e.pixels.forEach(function(e){"progress"===e.event&&void 0!==e.offset&&(e.offset=(e=>{var t=e.match(/^(\d{2}):(\d{2}):(\d{2})(.(\d{3}))?$/);return t?{type:"time",offset:3600*parseInt(t[1],10)+60*parseInt(t[2],10)+parseInt(t[3],10)+(t[5]?parseInt(t[5],10)/1e3:0)}:(t=e.match(/^(\d+)%$/))?{type:"percentage",offset:parseInt(t[1],10)}:null})(e.offset));var t=n[e.event];t&&(e.event=t)}),t(null,e)};var n={skip:"AdSkipped",creativeView:"AdStarted",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",acceptInvitation:"AdUserAcceptInvitation",collapse:"AdUserMinimize",close:"AdUserClose",pause:"AdPaused",resume:"AdPlaying",error:"AdError"}},{}],14:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){var t=new a.default,e=(t.width=+e.getAttribute("width")||0,t.height=+e.getAttribute("height")||0,t.xPosition=+e.getAttribute("xPosition")||e.getAttribute("xPosition"),t.yPosition=+e.getAttribute("yPosition")||e.getAttribute("yPosition"),t.offset=(0,o.timeToSec)(e.getAttribute("offset")||""),t.duration=(0,o.timeToSec)(e.getAttribute("duration")||""),s.default.allImmediateChildrenByNames(e)),i=e.IconClicks[0],i=s.default.allImmediateChildrenByNames(i),n=i.IconClickThrough&&i.IconClickThrough[0],i=i.IconClickTracking&&i.IconClickTracking[0];{var r;e.StaticResource&&e.StaticResource[0]&&(r=e.StaticResource[0],t.staticResourceUrl=s.default.getText(r).trim(),t.staticResourceType=r.getAttribute("creativeType"))}e.IconViewTracking&&e.IconViewTracking[0]&&(t.viewTrackingUrl=s.default.getText(e.IconViewTracking[0]).trim());n&&(t.clickThroughUrl=s.default.getText(n).trim());i&&(t.clickTrackingUrl=s.default.getText(i).trim());return t};var o=e("../util/timeToSec.js"),a=n(e("../model/icon.js")),s=n(e("./dom.js"));function n(e){return e&&e.__esModule?e:{default:e}}},{"../model/icon.js":29,"../util/timeToSec.js":36,"./dom.js":10}],15:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){var i=null,n=null;if("object"===o(t))i=t;else try{i=(e=>{var t={};try{var i=JSON.parse(e);if(i){p(i.viewableImpression,function(e){t.viewabilityBeaconUrl=e}),t.pixels=t.pixels||[];var n,r=i.impression,o=(t.pixels=t.pixels.concat(m(r).map(function(e){return{event:"impression",url:e}})),t.sources=i.sources||[],i.mediaFiles),a=(t.sources=t.sources.concat(m(o).map(function(e){return{url:e.value&&e.value.replace(/^\s+|\s+$/g,""),mimetype:e.type,apiFramework:e.apiFramework,bitrate:e.bitrate}})),i.vastAdTagURI),s=(t.sources=t.sources.concat(m(a).map(function(e){return{url:e&&e.replace(/^\s+|\s+$/g,""),mimetype:"application/xml"}})),i.trackingEvents),u=(t.pixels=t.pixels.concat(m(s).map(function(e){return{event:e.eventType,url:e.value,offset:e.offset}})),i.error),l=(t.error=t.error||[],t.error=t.error.concat(m(u).map(function(e){return{event:"error",url:e}})),t.videoClicks=t.videoClicks||{},t.videoClicks.clickTracking=t.videoClicks.clickTracking||[],i.videoClicks&&i.videoClicks.clickTracking&&(n=i.videoClicks.clickTracking,t.videoClicks.clickTracking=t.videoClicks.clickTracking.concat(m(n).map(function(e){return e}))),i.videoClicks&&i.videoClicks.clickThrough&&p(i.videoClicks.clickThrough,function(e){t.videoClicks.clickThrough=e}),t.metadata=t.metadata||{},i.moatParams);if(l)for(var c in l){var d=c,f=l[c];d&&f&&(t.metadata[d]=f)}t.iasParams=i.iasParams,t.previewParams=i.previewParams}}catch(e){throw new Error("JSON parsing error: "+e.message)}return t})(t)}catch(e){try{i=(e=>{var t,i,n={};try{i=window.atob(e)}catch(e){throw new Error("XML parsing error: "+e.message)}if(null!==i)try{if(0<(t=(0,r.parseXml)(i)).getElementsByTagName("parsererror").length||t.parseError&&0!==t.parseError.errorCode)throw new Error(t.getElementsByTagName("parsererror")[0].nodeValue)}catch(e){throw new Error("XML parsing error: "+e.message)}return"YahooViewability"===t.documentElement.nodeName&&(a(t.getElementsByTagName("ViewableImpression"),function(e){n.viewabilityBeaconUrl=e.textContent}),n.pixels=n.pixels||[],a(t.getElementsByTagName("Impression"),function(e){n.pixels.push({event:"impression",url:e.textContent})}),n.sources=n.sources||[],a(t.getElementsByTagName("MediaFile"),function(e){n.sources.push({url:e.textContent&&e.textContent.replace(/^\s+|\s+$/g,""),mimetype:e.getAttribute("type"),apiFramework:e.getAttribute("apiFramework")})}),a(t.getElementsByTagName("VASTAdTagURI"),function(e){n.sources.push({url:e.textContent&&e.textContent.replace(/^\s+|\s+$/g,""),mimetype:"application/xml"})}),a(t.getElementsByTagName("Tracking"),function(e){n.pixels.push({event:e.getAttribute("event"),url:e.textContent})}),e=t.getElementsByTagName("Error"),n.error=n.error||[],a(e,function(e){n.error.push({event:e.getAttribute("event"),url:e.textContent})}),n.videoClicks=n.videoClicks||{},n.videoClicks.clickTracking=n.videoClicks.clickTracking||[],a(t.getElementsByTagName("ClickTracking"),function(e){n.videoClicks.clickTracking.push(e.textContent)}),(i=t.getElementsByTagName("ClickThrough")[0])&&(n.videoClicks.clickThrough=i.textContent),n.metadata=n.metadata||{},e=(e=>{if(e=e.getElementsByTagName("MOATparams")[0])return e.childNodes})(t))&&a(e,function(e){var t=e.nodeName,e=e.textContent;t&&e&&(n.metadata[t]=e)}),n})(t)}catch(e){n=e}}return e(n,i)};var r=e("../util/xml.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){[].forEach.call(e=e||[],t)}function p(e,t){e?Array.isArray(e)||(e=[e]):e=[],e.forEach(t)}function m(e){return e?Array.isArray(e)||(e=[e]):e=[],e}},{"../util/xml.js":39}],16:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){t.videoClicks.clickTracking.forEach(function(e){return t.pixels.push({event:"AdClickThru",url:e})}),e(null,t)}},{}],17:[function(e,t,i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){var i=(e=>{var t=e.sources,i=null;return t&&(e.sources=t.filter(function(e){return"application/xml"!==e.mimetype||(i=e.url,!1)})),i})(e);e.debugData={vastUri:i},e.vastXmls=[],e.icons=[],i?c(i,e,t,0):t(null,e)};var f=r(e("../diag.js")),n=((e,t)=>{if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};if((t=s(t))&&t.has(e))return t.get(e);var i,n,r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((n=o?Object.getOwnPropertyDescriptor(e,i):null)&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]);return r.default=e,t&&t.set(e,r),r})(e("../macros")),p=e("../constants.js"),l=r(e("./parse_icon_element.js"));function s(e){var t,i;return"function"!=typeof WeakMap?null:(t=new WeakMap,i=new WeakMap,(s=function(e){return e?i:t})(e))}function r(e){return e&&e.__esModule?e:{default:e}}function m(e,t,i){return(t=(e=>(e=((e,t)=>{if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=a(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==a(e)?e:e+""))(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,s=[],u=!0,l=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;u=!1}else for(;!(u=(n=o.call(i)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}})(e,t)||((e,t)=>{var i;if(e)return"string"==typeof e?o(e,t):"Map"===(i="Object"===(i={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0})(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var v=5;function c(a,s,u,l){var c,d=new f.default(s);s.previewParams&&(a=a.replace(/\[APIFRAMEWORKS\]/g,"1,2,7")),a=n.expand(a,null,[n.pageUrl]),v<=l?d.fire("VAST_MAX_DEPTH",function(){u(new Error("max VAST unwrapping depth reached"))}):(c=new XMLHttpRequest,-1===a.indexOf("s.yimg.com")&&-1===a.indexOf("l.yimg.com")&&(c.withCredentials=!0),0<=[].indexOf(a)&&(c.withCredentials=!1),c.onreadystatechange=function(){var e,t,i,n,r,o;4!==c.readyState||(e=((e,t,i)=>{var n=m({},p.DM_MSG.REQ_STATUS,e.status),r={generalError:!1,corsError:!1};return 200!==e.status?null!==e.responseURL&&0===e.responseURL.length&&null===e.responseXML?r.corsError=!0:(t.fire("VAST_NOT_FOUND",function(){i(new Error("parseVast error: response status: "+e.status))},n),r.generalError=!0):e.responseXML||(t.fire("VAST_PARSER_ERROR",function(){i(new Error("parseVast error: missing responseXML"))},n),r.generalError=!0),r})(c,d,u)).generalError||(e.corsError?(e=a,t=s,i=u,n=l,r=d,(o=new XMLHttpRequest).onreadystatechange=function(){var e=m({},p.DM_MSG.REQ_STATUS,o.status);4===o.readyState&&(200!==o.status?r.fire("VAST_CORS_ERROR",function(){i(new Error("VAST_CORS_ERROR"))},e):g(t,o,i,n,r))},o.withCredentials=!1,o._url=e,o.open("GET",e),t.previewParams&&e.includes("doubleverify.com")&&Object.entries(t.previewParams).forEach(function(e){var e=h(e,2),t=e[0];o.setRequestHeader(t,e[1])}),o.send()):g(s,c,u,l,d))},c._url=a,c.open("GET",a),s.previewParams&&a.includes("doubleverify.com")&&Object.entries(s.previewParams).forEach(function(e){var e=h(e,2),t=e[0];c.setRequestHeader(t,e[1])}),c.send())}function g(e,t,i,n,r){e.vastXmls.push(t.responseXML);var o,u,a=(e=>(e=e.getElementsByTagName("Ad")[0])?e.firstElementChild.tagName:null)(t.responseXML);switch(a){case"Wrapper":var s=(e=>(e=e.getElementsByTagName("VASTAdTagURI")[0])?e.textContent:null)(t.responseXML);s?c(s,e,i,n+1):r.fire("VAST_WRAPPER_URI_MISSING",function(){i(new Error("VASTAdTag URI not found"))});break;case"InLine":try{(u=e).vastXmls.forEach(function(e){var t=u,i=new f.default(t);if(!(e=e.getElementsByTagName("Ad")[0])||1!==e.childElementCount||"null"===e)throw i.fire("VAST_MALFORMED"),Error("parseVastXml error: invalid VAST format");d(e.getElementsByTagName("Impression"),function(e){t.pixels.push({event:"impression",url:e.textContent})});var n=e.getElementsByTagName("Creative");(i=e.getElementsByTagName("Linear")[0])&&(t.skipOffset=i.getAttribute("skipoffset")||null);for(var r=[],o=0,a=n.length;o<a;o++)r.push(n[o]);r.sort(function(e,t){return(e.getAttribute("sequence")||0)-(t.getAttribute("sequence")||0)});var s=[];r.forEach(function(e){var t,i=e.getElementsByTagName("MediaFile");for(t in i)1===i[t].nodeType&&s.push(i[t])}),s.length<1&&(s=e.getElementsByTagName("MediaFile")),t.sources=[],d(s,function(e){t.sources.push({url:e.textContent&&e.textContent.replace(/^\s+|\s+$/g,""),mimetype:e.getAttribute("type"),apiFramework:e.getAttribute("apiFramework"),bitrate:e.getAttribute("bitrate")})}),d(e.getElementsByTagName("Tracking"),function(e){t.pixels.push({event:e.getAttribute("event"),url:e.textContent})}),d(i=e.getElementsByTagName("ClickTracking"),function(e){t.videoClicks.clickTracking.push(e.textContent)}),(i=e.getElementsByTagName("ClickThrough")[0])&&(t.videoClicks.clickThrough=i.textContent),(i=e.getElementsByTagName("AdParameters")[0])&&(t.thirdPartyAdParams=i.textContent),(i=(e=>{var t=null,e=e.getElementsByTagName("Icons")[0];return t=e&&(e=e.getElementsByTagName("Icon")[0])?(0,l.default)(e):t})(e))&&t.icons.push(i)}),o=u}catch(e){return void i(new Error("addAdParams error: "+e.message))}i(null,o);break;default:r.fire("VAST_MISSING_AD_TYPE",function(){i(new Error("vast error: no ad type found"))},m({},p.DM_MSG.AD_TYPE,a))}}function d(e,t){[].forEach.call(e=e||[],t)}},{"../constants.js":19,"../diag.js":20,"../macros":27,"./parse_icon_element.js":14}],18:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default={adPlaybackTimeout:6e5,vpaidCreativeMethodTimeout:2e4,scoutWatchShouldFire:{AdImpression:!0,AdVideoStart:!0,AdVideoFirstQuartile:!0,AdVideoMidpoint:!0,AdVideoThirdQuartile:!0,AdVideoComplete:!0,AdStopped:!0,AdError:!0,AdClickThru:!0,AdSizeChange:!0,AdDurationChange:!0}}},{}],19:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.VIDEO_MEDIA_ERR=i.NODE_TYPE=i.IMAGE_TYPES=i.DM_MSG=void 0;i.DM_MSG={ERROR_MSG:"errMsg",TAG_STATUS_CODE:"tagStatusCode",REQ_STATUS:"reqStatus",AD_TYPE:"adType",MIME:"mime",URL:"url",ELAPSED_TIME:"et"},i.VIDEO_MEDIA_ERR={ABORTED:1,NETWORK:2,DECODE:3,SRC_NOT_SUPPORTED:4},i.NODE_TYPE={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},i.IMAGE_TYPES=["image/jpeg","image/jpg","image/gif","image/png"]},{}],20:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.MAX_DM_URL_LENGTH=void 0;var r=n(e("./util/fire.js")),o=n(e("../lib/version.js")),a=e("./constants.js"),s=e("./util/url.js"),u=n(e("./util/sanitizeUrl.js"));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=l(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=l(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==l(e)?e:e+""))(n.key),n)}}var d=e("ua-parser-js"),f=(i.MAX_DM_URL_LENGTH=800,{VAST_NOT_FOUND:20001,VAST_PARSER_ERROR:20002,VAST_WRAPPER_URI_MISSING:20003,VAST_MALFORMED:20004,VAST_NO_AD:20005,VAST_MAX_DEPTH:20006,VAST_MISSING_AD_TYPE:20007,VAST_CORS_ERROR:20009,VPAID_HANDSHAKE_FAIL:20010,VPAID_LOAD_ERROR:20011,VPAID_LOAD_TIMEOUT:20012,VPAID_PROTOCOL_NOT_SUPPORTED:20014,VPAID_INTERNAL_ERROR:20015,NO_VIDEO_SLOT:20201,VPAID_NONVITAL_METHOD_TIMEOUT:20202,VPAID_STATE_INCONSISTENCY:20203,AD_DURATION_NOT_SUPPORTED:20204,SUBSCRIBER_ERROR:20206,VISTA_UNCAUGHT_ERROR:20207,NO_COMPATIBLE_VIDEO:20208,PUBLISHER_UNCAUGHT_ERROR:20209,VIDEO_MEDIA_ERR_ABORTED:20210,VIDEO_MEDIA_ERR_NETWORK:20211,VIDEO_MEDIA_ERR_DECODE:20212,VIDEO_MEDIA_ERR_SRC_NOT_SUPPORTED:20213,VIDEO_MEDIA_ERR_UNKNOWN:20214,VPAID_HANDSHAKE_TIMEOUT:20215,VPAID_INIT_AD_TIMEOUT:20216,VPAID_START_AD_TIMEOUT:20217,VPAID_STOP_AD_TIMEOUT:20218,VISTA_LOADED:6e4,VISTA_IMP:60001,VISTA_AD_VIDEO_COMPLETE:60002,VISTA_AD_VIDEO_START:60003,VISTA_AD_VIDEO_STOP:60004,VISTA_AD_VIDEO_START_STARTING:60005,VISTA_AD_VIDEO_LOADED_STARTING:60006,VISTA_AD_VIDEO_LOADED:60007}),p={AdImpression:"VISTA_IMP"},m=/:/g,h=/\//g;i.default=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.adParams=e||{},this.version=o.default,this.pageUrl="undefined"==typeof window?null:(0,u.default)((0,s.getTrueUrlInfo)().topUrl)}return e=t,(i=[{key:"addDesiredBitrateInfo",value:function(e){this.adParams.desiredBitrate=e}},{key:"addServedBitrateInfo",value:function(e){this.adParams.servedBitrate=e}},{key:"_getUrlForName",value:function(e,t){e="JS-"+f[e];if(void 0===this.adParams.browser)try{var i=this._getUserAgent();this.adParams.browser=this._getBrowserFromUserAgent(i)}catch(e){}var i=this.adParams.error&&this.adParams.error[0]&&this.adParams.error[0].url||"",n=(this.adParams&&this.adParams.browser&&(e=e+",rb:"+this.adParams.browser),this.adParams&&this.adParams.selectedFileType&&(e=e+",rm:"+this.adParams.selectedFileType),t&&Object.prototype.hasOwnProperty.call(t,a.DM_MSG.ERROR_MSG)&&(e+=",emsg:"+t[a.DM_MSG.ERROR_MSG].trim().substring(0,800).replace(m,"_")),e=(e+=",vv:"+this.version)+(",pu:"+this.pageUrl.replace(m,"_").replace(h,"⁄")),{});return t&&(n[a.DM_MSG.TAG_STATUS_CODE]=t[a.DM_MSG.TAG_STATUS_CODE],n[a.DM_MSG.REQ_STATUS]=t[a.DM_MSG.REQ_STATUS],n[a.DM_MSG.AD_TYPE]=t[a.DM_MSG.AD_TYPE],n[a.DM_MSG.MIME]=t[a.DM_MSG.MIME],n[a.DM_MSG.ELAPSED_TIME]=t[a.DM_MSG.ELAPSED_TIME]),e+=",dm:"+btoa(JSON.stringify(n)),i.replace(/(##|\[)ERRORCODE(##|\])/gi,e)}},{key:"getUrlByEvent",value:function(e){e=p[e];return e&&this._getUrlForName(e)}},{key:"fire",value:function(e,t,i){(0,r.default)(this._getUrlForName(e,i),t)}},{key:"_getUserAgent",value:function(){return navigator&&navigator.userAgent}},{key:"_getBrowserFromUserAgent",value:function(e){e=d(e);return e&&e.browser&&e.browser.name+e.browser.major}}])&&c(e.prototype,i),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i,n})()},{"../lib/version.js":3,"./constants.js":19,"./util/fire.js":32,"./util/sanitizeUrl.js":35,"./util/url.js":37,"ua-parser-js":7}],21:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("async")),s=n(e("../util/fire.js")),r=n(e("./providers/index.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=o(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o(e)?e:e+""))(n.key),n)}}i.default=(()=>{function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.params=e,this.pixelProviders=(0,r.default)(e),this.diag=null,this.internalSubscribers={},this.externalSubscribers={}}return e=t,(i=[{key:"init",value:function(e){for(var t in this.pixelProviders)this.pixelProviders[t].init(e);this.diag=e.diag}},{key:"addExternalSubscriber",value:function(e,t,i){var n=this.externalSubscribers[t]||[];n.push({callback:e,context:i}),this.externalSubscribers[t]=n}},{key:"addInternalSubscriber",value:function(e,t,i){var n=this.internalSubscribers[t]||[];n.push({callback:e,context:i}),this.internalSubscribers[t]=n}},{key:"removeSubscriber",value:function(e,t){l(this.internalSubscribers,e,t),l(this.externalSubscribers,e,t)}},{key:"fire",value:function(i,e,n,t){var r=this,o=this.pixelProviders&&Object.keys(this.pixelProviders).reduce(function(e,t){return e.concat(r.pixelProviders[t].getUris(i,n))},[]);a.default.each(o,function(e,t){(0,s.default)(e,t)},function(){try{c(r.internalSubscribers,i,e),c(r.externalSubscribers,i,e)}catch(e){return void r.handleFireException(i,e,n)}t&&t()})}},{key:"fireSync",value:function(i,e,n,t){var r=this,o=this.pixelProviders&&Object.keys(this.pixelProviders).reduce(function(e,t){return e.concat(r.pixelProviders[t].getUris(i,n))},[]);try{c(this.internalSubscribers,i,e),c(this.externalSubscribers,i,e)}catch(e){this.handleFireException(i,e,n)}a.default.each(o,function(e,t){(0,s.default)(e,t)},function(){t&&t()})}},{key:"handleFireException",value:function(e,t,i){var n,r,o=this;"AdError"!==e&&(null!==t&&(n=t.message,r=t.stack.toString().split(/\r\n|\n/))&&1<r.length&&(n+=" "+window.btoa("stack1: "+r[1]+"stackn: "+r[r.length-1])),this.diag)&&this.diag.fire("SUBSCRIBER_ERROR",function(){o.fire("AdError",["Error occurred when firing ".concat(e," event handlers: ").concat(t.message)],i)},e+" event handlers: "+n)}},{key:"getProviders",value:function(){return this.pixelProviders}}])&&u(e.prototype,i),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i,n})();function l(e,t,i){var n=e[i];n&&(e[i]=n.filter(function(e){return e.callback!==t}))}function c(e,t,i){e=e[t];!i||Array&&Array.isArray&&Array.isArray(i)||(i=[i]),e&&e.forEach(function(e){return e.callback.apply(e.context||null,i)})}},{"../util/fire.js":32,"./providers/index.js":25,async:4}],22:[function(e,t,i){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=r(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=r(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==r(e)?e:e+""))(n.key),n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.eventPixelMap={},this.adParams=null}return t=e,(i=[{key:"init",value:function(e){var i=this;this.adParams=e.adParams,this.adParams.pixels.forEach(function(e){var t=e.event,e=e.url;t&&e&&"progress"!==t&&(i.eventPixelMap[t]=i.eventPixelMap[t]||[],i.eventPixelMap[t].push(e))})}},{key:"getUris",value:function(e){return this.eventPixelMap[e]||[]}}])&&o(t.prototype,i),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{}],23:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=(e=e("../../diag"))&&e.__esModule?e:{default:e};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=o(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o(e)?e:e+""))(n.key),n)}}i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.diag=null}return t=e,(i=[{key:"init",value:function(e){this.diag=new r.default(e.adParams)}},{key:"getUris",value:function(e,t){return this.diag&&(e=this.diag.getUrlByEvent(e))?[e]:[]}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"../../diag":20}],24:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=(e=e("../../../lib/__IASVANS_3.8.9"))&&e.__esModule?e:{default:e};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=o(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o(e)?e:e+""))(n.key),n)}}var s=["AdClickThru","AdDurationChange","AdError","AdImpression","AdInteraction","AdLinearChange","AdLoaded","AdLog","AdPaused","AdPlaying","AdRemainingTimeChange","AdSkippableStateChange","AdSkipped","AdStarted","adstoprequested","AdUserAcceptInvitation","AdUserClose","AdVolumeChange","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserMinimize","AdSizeChange","AdExpandedChange"];i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.ias=new r.default}return t=e,(i=[{key:"init",value:function(e){var t,i=this;e.adParams.iasParams&&(this.vpaidJSWrapper=e.vpaidJSWrapper,(t=Object.assign({partner:"yahoo",advEntityId:"854585",pubEntityId:"68926918",xmtp:"v",onMeasurementComplete:this.vpaidJSWrapper.callEventAdStopped.bind(this.vpaidJSWrapper),ias_dspID:"30"},e.adParams.iasParams)).impId&&(t.ias_impId=t.ias_impId||"v4~~".concat(t.impId)),this.ias.initFW(t,e.slot),s.forEach(function(e){i.vpaidJSWrapper.subscribe(function(){i.handleEvent(e)},e)}))}},{key:"getUris",value:function(e){return[]}},{key:"handleEvent",value:function(e){var t=this.vpaidJSWrapper,t={ad_duration:t.getAdDuration(),width:t.getAdWidth(),height:t.getAdHeight(),volume:t.getAdVolume(),viewMode:t.props.viewMode},e="adstoprequested"===e?"AdStopped":["AdSizeChange","AdExpanded","AdUserMinimize"].includes(e)?"resizeAd":e;this.ias.sendEvent(e,t)}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"../../../lib/__IASVANS_3.8.9":1}],25:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){return{AdParamsProvider:new n.default(e),DiagProvider:new r.default(e),IasProvider:new o.default(e),MoatProvider:new a.default(e)}};var n=s(e("./ad_params")),r=s(e("./diag")),o=s(e("./ias")),a=s(e("./moat"));function s(e){return e&&e.__esModule?e:{default:e}}},{"./ad_params":22,"./diag":23,"./ias":24,"./moat":26}],26:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=(e=e("../../../lib/moat"))&&e.__esModule?e:{default:e};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=o(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o(e)?e:e+""))(n.key),n)}}i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.adParams=null}return t=e,(i=[{key:"init",value:function(e){this.adParams=e.adParams;var t,i=this.adParams.metadata;this.adParams&&this.adParams.metadata&&(t={level1:"Yahoo!",level2:i.campaignID,level3:i.lineItemID,level4:i.creativeID,slicer1:i.publisherID,slicer2:i.sitePlacementID,sampling:(parseFloat("".concat(i.samplingRate))||"1.0")+"",viewMode:"normal",zMoatAuctionID:i.auctionID,zMoatAdReqDomain:i.adRequestDomainName},e.slot)&&i.forceEnableMoat&&(0,r.default)(e.vpaidJSWrapper,e.slot,t,"yahoovpaidtwoint215831825037")}},{key:"getUris",value:function(e){return[]}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"../../../lib/moat":2}],27:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.demandSourceId=i.creativeIdHacker=i.creativeId=i.adRequestDomainName=void 0,i.expand=function(i,n,e){return e.forEach(function(e){var t;try{t=e.replacement(n)}catch(e){t="undefined"}i=i.replace(e.regex,t)}),i},i.xtraHacker=i.xtra=i.vpaidJSWrapperVersion=i.timeStamp=i.sitePlacementId=i.publisher=i.protocol=i.pageUrl=i.lineItemId=i.insertionOrderId=void 0;var n=e("./util/url.js");i.adRequestDomainName={regex:/##AD_REQUEST_DOMAIN_NAME##/gi,replacement:function(e){return String(e.metadata.adRequestDomainName)}},i.creativeId={regex:/(##|\[)CREATIVE_ID(##|\])/gi,replacement:function(e){return String(e.metadata.creativeId)}},i.creativeIdHacker={regex:/(##|\[)CREATIVE_ID_HACKER(##|\])/gi,replacement:function(e){return String(e.metadata.creativeId)}},i.demandSourceId={regex:/(\[)demand_source_id(\])/gi,replacement:function(e){return String(e.metadata.demandSourceId)}},i.vpaidJSWrapperVersion={regex:/(##|\[)VISTA_VERSION(##|\])/gi,replacement:function(e){return String(e.metadata.vpaidJSWrapperVersion)}},i.insertionOrderId={regex:/(##|\[)IO_ID(##|\])/gi,replacement:function(e){return String(e.metadata.insertionOrderId)}},i.lineItemId={regex:/(##|\[)LINE_ITEM_ID(##|\])/gi,replacement:function(e){return String(e.metadata.lineItemId)}},i.sitePlacementId={regex:/(##|\[)(SITE_PLACEMENT_ID|SITE_ID|SITE_PLACEMENT)(##|\])/gi,replacement:function(e){return String(e.metadata.sitePlacementId)}},i.pageUrl={regex:/(##|\[)PAGE_URL(##|\])/gi,replacement:function(e){return String((0,n.getTrueUrlInfo)().topUrl)}},i.protocol={regex:/(##|\[)PROTOCOL(##|\])/gi,replacement:function(e){return String(e.metadata.protocol)}},i.publisher={regex:/(##|\[)(PUBLISHER|PUBLISHER_ID)(##|\])/gi,replacement:function(e){return String(e.metadata.publisherId)}},i.timeStamp={regex:/(##|%|\[)TIMESTAMP(##|%|\])/gi,replacement:function(e){return(new Date).toUTCString()}},i.xtra={regex:/(##|\[)XTRA(##|\])/gi,replacement:function(e){return String(e.metadata.xtra)}},i.xtraHacker={regex:/(##|\[)XTRA_HACKER(##|\])/gi,replacement:function(e){return String(e.metadata.xtra)}}},{"./util/url.js":37}],28:[function(e,t,i){t.exports={vpaidJSWrapperVersion:"VISTA_1_2_VERSION"}},{}],29:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=e("../constants.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=o(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==o(e)?e:e+""))(n.key),n)}}i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.width=null,this.height=null,this.xPosition="",this.yPosition="",this.staticResourceUrl="",this.staticResourceType="",this.clickThroughUrl="",this.clickTrackingUrl="",this.viewTrackingUrl="",this.offset=null,this.duration=null}return t=e,(i=[{key:"hasSupportedResource",value:function(){var e=(this.staticResourceType||"").toLowerCase();return this.staticResourceUrl&&-1!==r.IMAGE_TYPES.indexOf(e)}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"../constants.js":19}],30:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=(e=e("./util/fire.js"))&&e.__esModule?e:{default:e};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=r(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=r(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==r(e)?e:e+""))(n.key),n)}}i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.hasCPVPixel=!1,this.events=[]}return t=e,(i=[{key:"addListenerPercentage",value:function(e,t,i){this.events.push({offset:{percentage:t,time:1/0},callback:{method:e,context:i},uri:""})}},{key:"addURI",value:function(e,t){this.hasCPVPixel=!0,this.events.push({offset:{percentage:1/0,time:t},callback:{method:null,context:null},uri:e})}},{key:"addURIPercentage",value:function(e,t){this.hasCPVPixel=!0,this.events.push({offset:{percentage:t,time:1/0},callback:{method:null,context:null},uri:e})}},{key:"checkAndFire",value:function(t,e,i,n){var r=(t*=1.04)/e*100;this.events=this.events.filter(function(e){return!(e.offset.time<=t||e.offset.percentage<=r)||(e.uri&&(0,o.default)(e.uri),e.callback.method&&e.callback.method.apply(e.callback.context||null,i),!1)}),n&&n()}},{key:"hasProgressPixel",value:function(){return this.hasCPVPixel}}])&&a(t.prototype,i),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})()},{"./util/fire.js":32}],31:[function(e,t,i){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>(e=((e,t)=>{if("object"!=r(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=r(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"),"symbol"==r(e)?e:e+""))(n.key),n)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=(()=>{function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.startTime=a()}return t=e,(i=[{key:"getCurrentTime",value:function(){return(a()-this.startTime)/1e3}}])&&o(t.prototype,i),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n})();function a(){return(new Date).getTime()}},{}],32:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){(new Image).src=e,t&&t()}},{}],33:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){var t=(e=(e=(e=e.substring(0,-1===e.indexOf("#")?e.length:e.indexOf("#"))).substring(0,-1===e.indexOf("?")?e.length:e.indexOf("?"))).substring(e.lastIndexOf("/")+1,e.length)).substring(e.lastIndexOf(".")+1,e.length);if(e!==t&&t.length<5)return t}},{}],34:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){var i={},t=e&&e.match(/^\s*(\w+):/);t&&t[1]?i.protocol=t[1]:i.protocol="https";t=e&&e.split("?")[1];t&&t.split("&").forEach(function(e){var t=e.split("=");switch(t[0]){case"p":i.publisherId=t[1];break;case"s":i.sitePlacementId=t[1];break;case"l":i.lineItemId=t[1];break;case"ds":i.demandSourceId=t[1];break;case"ic":i.creativeId=t[1];break;case"x":i.xtra=t[1];break;case"au":i.auctionId=t[1];break;case"debug":i.debug="y"===t[1]}});return i}},{}],35:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=0;return["?","#"].forEach(function(e){-1!==(i=t.indexOf(e))&&(t=t.substring(0,i))}),t}},{}],36:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.timeToSec=function(e){if(""===e)return 0;e=e.split(".")[0];for(var t=0,i=e.split(":"),n=(i.reverse(),[1,60,3600]),r=0;r<i.length;r++)t+=i[r]*n[r];return t}},{}],37:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.getTrueUrlInfo=function(){var e,t,i,n,r=window.location.href,o="0",a="",s="",u="",l="";if(window.self===window.top)l=s=r,u="noFrames";else if(o="1",(()=>{try{return void 0!==window.top.location.href}catch(e){return!1}})())a=window.parent.location.href,s=window.top.location.href,l=r+"||"+a+"||"+s,u="sameDomain";else if((()=>{try{return void 0!==window.location.ancestorOrigins}catch(e){return!1}})()){for(e=window.location.ancestorOrigins,t=[],n=0;n<e.length;n+=1)t[n]=e[n];i=t.join("||"),l=r+"||"+i,a=t[0],s=t[t.length-1],u="ancestorOrigins"}else a=document.referrer,s=""!==a?a:r,l=r+"||"+a,u="referer";return{inIframe:o,currentUrl:r,parentUrl:a,topUrl:s,detectionMethod:u,domainChainString:l,encodedDomainChainString:encodeURIComponent(l)}},i.getVpaidJSWrapperUrl=function(){for(var e=document.getElementsByTagName("script")||[],t=null,i=0;i<e.length;i++){var n=e[i].getAttribute("src");if(n&&n.match(/\/vista\.js/)){t=n;break}}return t}},{}],38:[function(e,t,i){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,i){(e=l(e)).forEach(function(e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e.style[t]=i[t])})}function n(e){return c(e,"String")}function r(e){return Array.isArray(e)||s(e)||u(e)}function s(e){return c(e,"HTMLCollection")}function u(e){return c(e,"NodeList")}function l(e){return null!=e?r(e)?e:[e]:[]}function c(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}Object.defineProperty(i,"__esModule",{value:!0}),i.createElement=function(e,t){var i=null,n=null,r=null;for(n in i=document.createElement(e),t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&null!==(r=t[n])&&("style"===n&&"object"===o(r)?a(i,r):i.setAttribute(n,Array.isArray(r)?r.join(" "):r));return i},i.isCollection=r,i.isHtmlCollection=s,i.isNodeList=u,i.isString=n,i.openLinkInNewTab=function(e){n(e)&&window.open(e,"_blank")},i.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},i.setStyle=a,i.toCollection=l},{}],39:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.parseXml=function(e){{if(void 0!==window.DOMParser)return(new window.DOMParser).parseFromString(e,"text/xml");var t;if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM"))return(t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e),t;throw new Error("No XML parser found")}}},{}],40:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,r=(n=e("../util/fire.js"))&&n.__esModule?n:{default:n},o=e("../util/utils");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){return(t=l(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){e=((e,t)=>{if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=a(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==a(e)?e:e+""}i.default=(()=>{return e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this,n=e;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this.icon=t,this.url=this.icon&&this.icon.staticResourceUrl||"",this.adView=null,this.iconContainerEl=null,this.iconEl=null,this.isShowing=!1,this._iconEvents={}},(t=[{key:"showInAd",value:function(e){!this.isShowing&&this.icon&&this.icon.hasSupportedResource()&&(this.isShowing=!0,this.adView=e,this.iconContainerEl=this.createIconContainer(),function(){var e="string"==typeof this.icon.xPosition?this.icon.xPosition.toLowerCase():"",t="string"==typeof this.icon.yPosition?this.icon.yPosition.toLowerCase():"";switch(this.iconContainerEl.style.height="".concat(this.icon.height,"px"),this.iconContainerEl.style.width="".concat(this.icon.width,"px"),e){case"left":this.iconContainerEl.style.left="0px";break;case"right":this.iconContainerEl.style.right="0px";break;default:"number"==typeof this.icon.xPosition&&(this.iconContainerEl.style.left="".concat(this.icon.xPosition,"px"))}"bottom"===t?this.iconContainerEl.style.bottom="0px":this.iconContainerEl.style.top="".concat("number"==typeof this.icon.yPosition?this.icon.yPosition:0,"px")}.call(this),this.iconEl=this.createIcon(),e={height:"".concat(this.icon.height,"px"),width:"".concat(this.icon.width,"px")},(0,o.setStyle)(this.iconEl,e))}},{key:"onImageError",value:function(){(0,o.setStyle)(this.iconEl,{display:"none"})}},{key:"onIconClickTracking",value:function(e){e.stopPropagation(),(0,r.default)(this.icon.clickTrackingUrl)}},{key:"onIconClickThrough",value:function(e){e.stopPropagation(),(0,o.openLinkInNewTab)(this.icon.clickThroughUrl)}},{key:"onImageLoaded",value:function(){this.icon.clickThroughUrl&&(this.iconEl.addEventListener("click",this.onIconClickThrough.bind(this)),function(){var e="img:hover{ opacity: 0.6 }",t=document.createElement("style");t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),this.iconEl.appendChild(t)}.call(this)),this.icon.clickTrackingUrl&&this.iconEl.addEventListener("click",this.onIconClickTracking.bind(this)),this.iconContainerEl.appendChild(this.iconEl),this.adView.appendChild(this.iconContainerEl),this.icon.viewTrackingUrl&&r.default.call(this,this.icon.viewTrackingUrl)}},{key:"createIconContainer",value:function(){return(0,o.createElement)("div",{style:{position:"absolute",overflow:"hidden"}})}},{key:"createIcon",value:function(){var e,t=(0,o.createElement)("img",{style:{position:"absolute",cursor:"pointer"}});for(e in this._iconEvents=s(s({},"load",this.onImageLoaded.bind(this)),"error",this.onImageError.bind(this)),this._iconEvents)t.addEventListener(e,this._iconEvents[e],!1);return t.src=this.url.replace(/\s+/g,""),t}},{key:"cleanUp",value:function(){if(this.iconEl)for(var e in this._iconEvents)this.iconEl.removeEventListener(e,this._iconEvents[e],!1);(0,o.removeFromParent)(this.iconContainerEl)}}])&&u(e.prototype,t),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,i})()},{"../util/fire.js":32,"../util/utils":38}],41:[function(e,t,i){var r=h(e("./config.js")),f=h(e("./diag.js")),a=h(e("./event/event_handler.js")),n=e("./util/url.js"),s=h(e("./util/getMediaFileType.js")),p=h(e("./ad_parser/index.js")),o=h(e("./util/query_params.js")),u=h(e("./util/clock.js")),l=h(e("./progress_events.js")),c=h(e("./vpaid_handler.js")),d=e("./constants.js"),m=h(e("./view/icon-element.js"));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return(e=>{if(Array.isArray(e))return e})(e)||((e,t)=>{var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,s=[],u=!0,l=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;u=!1}else for(;!(u=(n=o.call(i)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}})(e,t)||((e,t)=>{var i;if(e)return"string"==typeof e?b(e,t):"Map"===(i="Object"===(i={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0})(e,t)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function y(e,t,i){return(t=E(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){e=((e,t)=>{if("object"!=v(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=v(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==v(e)?e:e+""}function _(){}var S=(0,n.getVpaidJSWrapperUrl)(),w=(0,o.default)(S),e=(()=>{function n(){var o=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.videoSlot=null,this.adSlot=null,this.debug=w.debug||!1,this.initialized=!1,this.stopAdCalled=!1,this.errorTimeout=null,this.progressEvents=new l.default,this.eventHandler=new a.default,this.vpaidHandler=new c.default(this.eventHandler),this.diag=null,this.props=null,this.loadAdClock=null,this.startAdClock=null,this.adChoiceIcon=null,this.deferStopAdTimeout=null,this.eventHandler.addInternalSubscriber(function(e){o._cleanUp()},"AdError"),window.onerror=function(e,t,i,n){var r=y({},d.DM_MSG.ERROR_MSG,e);S===t?o.diag&&o.diag.fire("VISTA_UNCAUGHT_ERROR",function(){return o._adError("Vista error occurred: "+e),!0},r):o.diag&&o.diag.fire("PUBLISHER_UNCAUGHT_ERROR",_,r)};var e=0,t=!1,i=!1;this.slotListeners={timeupdate:function(){0===e&&(!i&&0<o.videoSlot.currentTime&&(o._callEventSync("AdImpression"),i=!0),o._callEvent("AdRemainingTimeChange"),o.progressEvents.checkAndFire(o.videoSlot.currentTime,o.videoSlot.duration))},play:function(){1===e&&(o.videoSlot.currentTime=0,e=2)},playing:function(){var e;t||(void 0!==o.videoSlot.src&&o.diag&&o.diag.adParams&&(o.diag.adParams.selectedFileType=(0,s.default)(o.videoSlot.src)),o.adChoiceIcon&&o.adSlot&&o.adChoiceIcon.showInAd(o.adSlot),e=o.startAdClock&&o.startAdClock.getCurrentTime()||-1,o.diag&&o.diag.fire("VISTA_AD_VIDEO_START",_,y({},d.DM_MSG.ELAPSED_TIME,e)),o._callEvent("AdStarted"),t=!0)},seeking:function(){0===e&&(e=1)},seeked:function(){2===e&&(e=0)},ended:function(){0===e&&o.progressEvents.checkAndFire(o.videoSlot.currentTime,o.videoSlot.duration,[],function(){o.diag&&o.diag.fire("VISTA_AD_VIDEO_COMPLETE"),o._callEvent("AdVideoComplete",[],function(){o.stopAdCalled||(o._cleanUp(),o.deferStopAdTimeout=setTimeout(function(){o.callEventAdStopped()},500),o._callEvent("adstoprequested"))})})},loadstart:function(){o.diag&&o.diag.fire("VISTA_AD_VIDEO_LOADED_STARTING"),o.loadAdClock=new u.default,o.initialized&&o.videoSlot.networkState===HTMLMediaElement.NETWORK_NO_SOURCE&&o._adError("No valid video sources found")},loadedmetadata:function(){o._callEvent("AdDurationChange")},loadeddata:function(){var e=o.loadAdClock&&o.loadAdClock.getCurrentTime()||-1;o.diag&&o.diag.fire("VISTA_AD_VIDEO_LOADED",_,y({},d.DM_MSG.ELAPSED_TIME,e)),o._callEvent("AdLoaded")},canplay:function(){},click:function(){o._onClick()},contextmenu:function(e){e.preventDefault()},error:function(){var e=o.videoSlot.error&&o.videoSlot.error.code||"",t="";switch(e){case d.VIDEO_MEDIA_ERR.ABORTED:t="VIDEO_MEDIA_ERR_ABORTED";break;case d.VIDEO_MEDIA_ERR.NETWORK:t="VIDEO_MEDIA_ERR_NETWORK";break;case d.VIDEO_MEDIA_ERR.DECODE:t="VIDEO_MEDIA_ERR_DECODE";break;case d.VIDEO_MEDIA_ERR.SRC_NOT_SUPPORTED:t="VIDEO_MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:t="VIDEO_MEDIA_ERR_UNKNOWN"}o.diag&&o.diag.fire(t,function(){o._adError("Error occurred when playing video with code "+e)})}}}return e=n,(t=[{key:"_callEventSync",value:function(e,t,i){this._callEvent(e,t,i,!0)}},{key:"_callEvent",value:function(e,t,i,n){(n?this.eventHandler.fireSync:this.eventHandler.fire).call(this.eventHandler,e,t,{adTime:this.videoSlot&&this.videoSlot.currentTime,adDuration:this.videoSlot&&this.videoSlot.duration},i)}},{key:"_adError",value:function(e){this._callEvent("AdError",[e])}},{key:"_setTrackingPixels",value:function(e){var r=this;e.forEach(function(e){var t=e.event,i=e.url;if(t&&i&&"progress"===t&&void 0!==e.offset){var n=e.offset;switch(n.type){case"time":r.progressEvents.addURI(i,n.offset);break;case"percentage":r.progressEvents.addURIPercentage(i,n.offset)}}})}},{key:"_setPlaybackEvents",value:function(){var e,t=this,i={AdVideoStart:0,AdVideoFirstQuartile:25,AdVideoMidpoint:50,AdVideoThirdQuartile:75};for(e in i)this.progressEvents.addListenerPercentage((e=>function(){t._callEvent(e)})(e),i[e])}},{key:"_sortByBitrate",value:function(e,t){return t.bitrate-e.bitrate}},{key:"_sortByPlayability",value:function(e,t){var i={probably:2,maybe:1,"":0},e=i[e.isPlayable];return i[t.isPlayable]-e}},{key:"_sortByBitrateValidity",value:function(e,t,i){e=e.bitrate<=i?1:0;return(t.bitrate<=i?1:0)-e}},{key:"_videoChoiceSorter",value:function(i){var n=this;return function(e,t){return e.bitrate>i!=t.bitrate>i?n._sortByBitrateValidity(e,t,i):e.isPlayable!==t.isPlayable?n._sortByPlayability(e,t):n._sortByBitrate(e,t)}}},{key:"_selectVideo",value:function(e,t){var i=this,n=[],e=(e.forEach(function(e){e.isPlayable=i.videoSlot.canPlayType(e.mimetype),n.push(e.mimetype)}),e.filter(function(e){return""!==e.isPlayable}));return e.length||this.diag&&this.diag.fire("NO_COMPATIBLE_VIDEO",_,y({},d.DM_MSG.MIME,n)),e.sort(this._videoChoiceSorter(t))[0]}},{key:"_setVideoSources",value:function(e,t,i){if(e){e=this._selectVideo(e,i);if(e)return this.diag&&this.diag.addServedBitrateInfo(e.bitrate),this.videoSlot.src=e.url,e.url}else this._adError("No videos")}},{key:"_setAdSize",value:function(e,t){this.videoSlot&&(this.videoSlot.width=e,this.videoSlot.height=t,this._callEvent("AdSizeChange"))}},{key:"_onClick",value:function(){var e;this.videoSlot.paused?(this.videoSlot.play(),this._callEvent("AdPlaying")):(e=this.props.adParameters.videoClicks.clickThrough,this._callEvent("AdClickThru",[e||null,"",!1]),window.open(e,"_blank"))}},{key:"_cleanUp",value:function(){if(this.videoSlot)for(var e in this.slotListeners)this.videoSlot.removeEventListener&&this.videoSlot.removeEventListener(e,this.slotListeners[e],!1);this.adSlot&&this.adChoiceIcon&&this.adChoiceIcon.cleanUp(),this.errorTimeout&&window.clearTimeout(this.errorTimeout),this.progressEvents=new l.default}},{key:"_readFeatures",value:function(e){var t=this;e.features.forEach(function(e){"debug"===e&&(t.debug=!0)})}},{key:"_convertStringDuration",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"number"==typeof t?t:t.includes(":")?60*+(e=g(t.split(":"),3))[0]*60+60*+e[1]+ +e[2]:~~t}},{key:"_setSkipAdState",value:function(e){this.props.adSkippableState=!0,this._callEvent("AdSkippableStateChange"),clearTimeout(e)}},{key:"_adSkipTimer",value:function(){var e=this,t=this._convertStringDuration(this.props.adParameters.skipOffset),i=setTimeout(function(){e._setSkipAdState(i)},1e3*t)}},{key:"initAd",value:function(r,o,a,s,u,l){for(var c=this,d=new Array(arguments.length),e=0;e<arguments.length;++e)d[e]=arguments[e];var t="string"==typeof u?u:u.AdParameters;(0,p.default)(t,function(e,t){if(c.diag=new f.default(t),e)c._adError(e.message);else if(c.props={adExpanded:!1,adLinear:!0,adSkippableState:!1,adCompanions:"",adIcons:!1,adVolume:1},c.props.width=r,c.props.height=o,c.props.viewMode=a,c.props.desiredBitrate=s,c.videoSlot=l.videoSlot,c._videoSlotCanAutoPlay=l.videoSlotCanAutoPlay,c.diag.addDesiredBitrateInfo(s),c.videoSlot){void 0===c.videoSlot.volume&&(c.videoSlot.volume=c.videoSlot.muted?0:1),c.videoSlot.style&&(c.videoSlot.style.cursor="pointer");e=l.slot;if((c.adSlot=e)&&(e.style.cursor="pointer",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style["z-index"]="100"),c.videoSlot.autoplay=!1,c._readFeatures(t),c.props.adParameters=t,c.initialized=!0,c.eventHandler.init({adParams:t,vpaidJSWrapper:c,slot:e,diag:c.diag}),c.props.adParameters.pixels&&c._setTrackingPixels(c.props.adParameters.pixels),c.props.adParameters.sources){t=(e=>{var t=null;return e&&e.some(function(e){return-1<["application/javascript","application/x-javascript"].indexOf(e.mimetype)&&"VPAID"===e.apiFramework&&(t=e.url,!0)}),t})(c.props.adParameters.sources);if(null!==t){for(var i=0;i<d.length;++i)d[i]===u&&(d[i]={AdParameters:c.props.adParameters.thirdPartyAdParams});c.vpaidHandler.loadVPAIDAd(t,c.videoSlot,c.props,c.debug,c.diag,d,c.progressEvents)}else{for(var n in c._setPlaybackEvents(),c.slotListeners)c.videoSlot.addEventListener(n,c.slotListeners[n],!1);e&&(c.props.adParameters.icons&&c.props.adParameters.icons.length&&(c.adChoiceIcon=new m.default(c.props.adParameters.icons[0])),e.addEventListener("click",function(){c._onClick()})),c._setVideoSources(c.props.adParameters.sources,c.props.adParameters.debugData,s)?c.videoSlot.load():c._adError("NO_COMPATIBLE_VIDEO")}}}else c.diag.fire("NO_VIDEO_SLOT",function(){c._adError("No video slot!")})})}},{key:"handshakeVersion",value:function(e){return"2.0"}},{key:"startAd",value:function(){var e=this;this.vpaidHandler.hasAd()?this.vpaidHandler.startAd():(this.diag&&this.diag.fire("VISTA_AD_VIDEO_START_STARTING"),this.startAdClock=new u.default,this.videoSlot.play(),this.props.adParameters.skipOffset&&this._adSkipTimer(),this.errorTimeout=setTimeout(function(){e._adError("Ad playback timed out")},r.default.adPlaybackTimeout))}},{key:"stopAd",value:function(){var e,t=this;this.vpaidHandler.hasAd()?this.vpaidHandler.stopAd():(this.videoSlot&&this.videoSlot.pause(),this._cleanUp(),this.progressEvents=new l.default,this.stopAdCalled=!0,e=this.startAdClock&&this.startAdClock.getCurrentTime()||-1,this.diag&&this.diag.fire("VISTA_AD_VIDEO_STOP",_,y({},d.DM_MSG.ELAPSED_TIME,e)),this.deferStopAdTimeout=setTimeout(function(){t.callEventAdStopped()},500),this._callEvent("adstoprequested"))}},{key:"callEventAdStopped",value:function(){clearTimeout(this.deferStopAdTimeout),this._callEvent("AdStopped")}},{key:"setAdVolume",value:function(e){0<=e&&e<=1&&this.videoSlot&&(this.props.adVolume=e,this.vpaidHandler.hasAd()?this.vpaidHandler.setAdVolume(e):(0===this.videoSlot.volume&&0<e?this._callEvent("unmute"):0<this.videoSlot.volume&&0===e&&this._callEvent("mute"),this.videoSlot.volume=e,this._callEvent("AdVolumeChange")))}},{key:"getAdVolume",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdVolume():this.videoSlot?this.videoSlot.volume:void 0}},{key:"resizeAd",value:function(e,t,i){"fullscreen"!==(this.props.viewMode=i)&&(this.props.width=e,this.props.height=t),this.vpaidHandler.hasAd()?this.vpaidHandler.resizeAd(e,t,i):("fullscreen"!==this.props.viewMode&&"fullscreen"===i?this._callEvent("fullscreen"):"fullscreen"===this.props.viewMode&&"fullscreen"!==i&&this._callEvent("exitFullscreen"),this._setAdSize(e,t))}},{key:"pauseAd",value:function(){this.vpaidHandler.hasAd()?this.vpaidHandler.pauseAd():(this.videoSlot.pause(),this._callEvent("AdPaused"))}},{key:"resumeAd",value:function(){this.vpaidHandler.hasAd()?this.vpaidHandler.resumeAd():(this.videoSlot.play(),this._callEvent("AdPlaying"))}},{key:"expandAd",value:function(){this.vpaidHandler.hasAd()?this.vpaidHandler.expandAd():this._callEvent("AdExpandedChange"),this.props.adExpanded=!0}},{key:"getAdExpanded",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdExpanded():this.props.adExpanded}},{key:"getAdSkippableState",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdSkippableState():this.props.adSkippableState}},{key:"collapseAd",value:function(){this.vpaidHandler.hasAd()?this.vpaidHandler.collapseAd():this._callEvent("AdExpandedChange"),this.props.adExpanded=!1}},{key:"skipAd",value:function(){this.vpaidHandler.hasAd()?this.vpaidHandler.skipAd():this.props.adSkippableState&&this._callEvent("AdSkipped")}},{key:"subscribe",value:function(e,t,i){this.eventHandler.addExternalSubscriber(e,t,i)}},{key:"unsubscribe",value:function(e,t){this.eventHandler.removeSubscriber(e,t)}},{key:"getAdWidth",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdWidth():this.videoSlot?this.props.width:void 0}},{key:"getAdHeight",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdHeight():this.videoSlot?this.props.height:void 0}},{key:"getAdRemainingTime",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdRemainingTime():!this.videoSlot||isNaN(this.videoSlot.duration)?-2:this.videoSlot.duration-this.videoSlot.currentTime}},{key:"getAdDuration",value:function(){return this.vpaidHandler.hasAd()?this.vpaidHandler.getAdDuration():!this.videoSlot||isNaN(this.videoSlot.duration)?-2:this.videoSlot.duration}},{key:"getAdCompanions",value:function(){return this.props.adCompanions}},{key:"getAdIcons",value:function(){return this.props.adIcons}},{key:"getAdLinear",value:function(){return this.vpaidHandler.hasAd()&&(this.props.adLinear=this.vpaidHandler.getAdLinear()),this.props.adLinear}}])&&A(e.prototype,t),i&&A(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,i})();T=new e;var T,n=function(){return T};"undefined"!=typeof TEST&&TEST&&(n.Vista=e),t.exports=n},{"./ad_parser/index.js":12,"./config.js":18,"./constants.js":19,"./diag.js":20,"./event/event_handler.js":21,"./progress_events.js":30,"./util/clock.js":31,"./util/getMediaFileType.js":33,"./util/query_params.js":34,"./util/url.js":37,"./view/icon-element.js":40,"./vpaid_handler.js":42}],42:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var u=n(e("./config.js")),r=n(e("./util/getMediaFileType.js")),l=n(e("./util/clock.js")),o=e("./constants.js");function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){return(t=d(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){e=((e,t)=>{if("object"!=a(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);if("object"!=a(i=i.call(e,t||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==a(e)?e:e+""}function f(){}var p=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],m=["AdSkipped","AdLinearChange","AdExpandedChange","AdSkippableStateChange","AdDurationChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdInteraction","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdUserAcceptInvitation","AdUserMinimize","AdUserClose"];i.default=(()=>{function t(e){var n=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.eventHandler=e,this.iFrame,this.adUnit,this.adDuration,this.stopped=!1,this.insideJsWorkAround={waitingForAdVideoComplete:!1,receivedAdStop:!1},this.deferStopAdTimeout=null,this.videoSlot=null,this.debug=null,this.props=null,this.diag=null,this.progressEvents=null,this.timeouts={load:null,handshake:null,initAd:null,startAd:null,pauseAd:null,resumeAd:null,stopAd:null},this.adPlayingState=null,this.loadAdClock=null,this.startAdClock=null,this.adEventCBs={AdLoaded:function(){clearTimeout(n.timeouts.initAd);var e=n.loadAdClock&&n.loadAdClock.getCurrentTime()||-1;n.diag.fire("VISTA_AD_VIDEO_LOADED",f,s({},o.DM_MSG.ELAPSED_TIME,e)),n._callEvent("AdLoaded")},AdStarted:function(){n.adPlayingState="AdPlaying",clearTimeout(n.timeouts.startAd),void 0!==n.videoSlot.src&&n.diag&&n.diag.adParams&&(n.diag.adParams.selectedFileType=(0,r.default)(n.videoSlot.src)),n.videoSlot.paused&&n.diag.fire("VPAID_STATE_INCONSISTENCY"),n.adDuration=n.adUnit.getAdDuration(),-1===n.adDuration?n.diag.fire("AD_DURATION_NOT_SUPPORTED"):n.progressEvents.hasProgressPixel()&&n._progressEventCron();var e=n.startAdClock&&n.startAdClock.getCurrentTime()||-1;n.diag.fire("VISTA_AD_VIDEO_START",f,s({},o.DM_MSG.ELAPSED_TIME,e)),n._callEvent("AdStarted")},AdStopped:function(){var e;n.insideJsWorkAround.waitingForAdVideoComplete?n.insideJsWorkAround.receivedAdStop=!0:(n.adPlayingState="AdStopped",clearTimeout(n.timeouts.stopAd),n.stopped||(n.stopped=!0,n.deferStopAdTimeout=setTimeout(function(){n.callEventAdStopped()},500),n._callEvent("adstoprequested"),e=n.startAdClock&&n.startAdClock.getCurrentTime()||-1,n.diag.fire("VISTA_AD_VIDEO_STOP",f,s({},o.DM_MSG.ELAPSED_TIME,e))))},AdLog:function(e){n._callEvent("AdLog",e)},AdSizeChange:function(){"fullscreen"!==n.props.viewMode&&(n.props.width>n.videoSlot.width||n.props.height>n.videoSlot.height)&&n.diag.fire("VPAID_STATE_INCONSISTENCY"),n._callEvent("AdSizeChange")},AdPaused:function(){clearTimeout(n.timeouts.pauseAd),n.videoSlot.paused||n.diag.fire("VPAID_STATE_INCONSISTENCY"),n._callEvent("AdPaused")},AdPlaying:function(){clearTimeout(n.timeouts.resumeAd),n.videoSlot.paused&&n.diag.fire("VPAID_STATE_INCONSISTENCY"),n._callEvent("AdPlaying")},AdVolumeChange:function(){n.props.adVolume!==n.adUnit.getAdVolume()&&n.diag.fire("VPAID_STATE_INCONSISTENCY"),n._callEvent("AdVolumeChange")},AdDurationChange:function(){n.adDuration=n.adUnit.getAdDuration(),n._callEvent("AdDurationChange")},AdClickThru:function(e,t,i){e=e||n.props.adParameters.videoClicks.clickThrough,n._callEventSync("AdClickThru",[e||null,t||"",i])},AdVideoComplete:function(){n.insideJsWorkAround.waitingForAdVideoComplete=!0,n.progressEvents.checkAndFire(n.adDuration,n.adDuration,[],function(){n.diag.fire("VISTA_AD_VIDEO_COMPLETE"),n._callEvent("AdVideoComplete",[],function(){n.insideJsWorkAround.waitingForAdVideoComplete&&(n.insideJsWorkAround.receivedAdStop?(n.insideJsWorkAround.waitingForAdVideoComplete=!1,n.insideJsWorkAround.receivedAdStop=!1,n.adEventCBs.AdStopped()):n.insideJsWorkAround.waitingForAdVideoComplete=!1)})}),n.adDuration},AdError:function(e){n.diag.fire("VPAID_INTERNAL_ERROR",function(){n._callEvent("AdError",e)},s({},o.DM_MSG.ERROR_MSG,e))}},m.forEach(function(e){n.adEventCBs[e],n.adEventCBs[e]=function(){n._callEvent(e)}})}return e=t,(i=[{key:"_callEventSync",value:function(e,t,i){this.eventHandler.fireSync(e,t,{adTime:this.videoSlot&&this.videoSlot.currentTime,adDuration:this.videoSlot&&this.videoSlot.duration},i)}},{key:"_callEvent",value:function(e,t,i){this.eventHandler.fire(e,t,{adTime:this.videoSlot&&this.videoSlot.currentTime,adDuration:this.videoSlot&&this.videoSlot.duration},i)}},{key:"_progressEventCron",value:function(){var t=setInterval(function(){this.adDuration=this.adUnit.getAdDuration();var e=this.adUnit.getAdRemainingTime();0<=e&&(e=this.adDuration-e,this.progressEvents.checkAndFire(e,this.adDuration),e>=this.adDuration)&&clearInterval(t),this._callEvent("AdRemainingTimeChange")}.bind(this),250)}},{key:"_adError",value:function(e){this._callEvent("AdError",[e])}},{key:"_fireDiagError",value:function(e){var t=this;this.diag.fire(e,function(){return t._adError(e)})}},{key:"_subscribeAdEvents",value:function(e){for(var t in this.adEventCBs)e.subscribe(this.adEventCBs[t],t,this)}},{key:"loadVPAIDAd",value:function(i,e,t,n,r,o,a){var s=this;this.videoSlot=e,this.props=t,this.debug=n,this.diag=r,this.progressEvents=a,this.diag.fire("VISTA_AD_VIDEO_LOADED_STARTING"),this.loadAdClock=new l.default,this.iFrame=document.createElement("iframe"),this.iFrame.id="3rd-party-vpaid-frame",this.iFrame.setAttribute("style","border:0 none"),this.iFrame.setAttribute("width","100%;"),this.iFrame.setAttribute("height","100%;"),this.iFrame.onload=function(){var e=s.iFrame.contentWindow.document,t=e.createElement("script");s.timeouts.load=setTimeout(function(){s._fireDiagError("VPAID_LOAD_TIMEOUT")},u.default.vpaidCreativeMethodTimeout),t.onload=function(){clearTimeout(s.timeouts.load);var t,e=s.iFrame.contentWindow.getVPAIDAd;e&&"function"==typeof e&&(s.adUnit=e(),s.timeouts.handshake=setTimeout(function(){s.diag.fire("VPAID_HANDSHAKE_TIMEOUT",function(){s._adError("handshake timed out")})},u.default.vpaidCreativeMethodTimeout),e=s.adUnit.handshakeVersion("2.0"),clearTimeout(s.timeouts.handshake),t=s.adUnit,p.every(function(e){e=t[e];return e&&"function"==typeof e}))?(e=e)&&2<=parseFloat(e)?(s._subscribeAdEvents(s.adUnit),s.timeouts.initAd=setTimeout(function(){s.diag.fire("VPAID_INIT_AD_TIMEOUT",function(){s._adError("initAd timed out")})},u.default.vpaidCreativeMethodTimeout),s.adUnit.initAd.apply(s.adUnit,o)):s._fireDiagError("VPAID_HANDSHAKE_FAIL"):s._fireDiagError("VPAID_PROTOCOL_NOT_SUPPORTED")},t.onerror=function(e){clearTimeout(s.timeouts.load),s._fireDiagError("VPAID_LOAD_ERROR")},t.src=i,t.type="text/javascript",e.body.appendChild(t)},document.body.appendChild(this.iFrame)}},{key:"hasAd",value:function(){return!!this.adUnit}},{key:"startAd",value:function(){var e=this;"AdPlaying"!==this.adPlayingState&&(clearTimeout(this.timeouts.startAd),this.timeouts.startAd=setTimeout(function(){e.diag.fire("VPAID_START_AD_TIMEOUT",function(){e._adError("startAd timed out")})},u.default.vpaidCreativeMethodTimeout),this.diag.fire("VISTA_AD_VIDEO_START_STARTING"),this.startAdClock=new l.default,this.adUnit.startAd())}},{key:"resizeAd",value:function(e,t,i){this.adUnit.resizeAd(e,t,i)}},{key:"stopAd",value:function(){var e=this;clearTimeout(this.timeouts.stopAd),this.timeouts.stopAd=setTimeout(function(){e.diag.fire("VPAID_STOP_AD_TIMEOUT",function(){e._adError("stopAd timed out")})},u.default.vpaidCreativeMethodTimeout),this.adUnit.stopAd()}},{key:"pauseAd",value:function(){var e=this;clearTimeout(this.timeouts.pauseAd),this.timeouts.pauseAd=setTimeout(function(){e.diag.fire("VPAID_NONVITAL_METHOD_TIMEOUT")},u.default.vpaidCreativeMethodTimeout),this.adUnit.pauseAd()}},{key:"resumeAd",value:function(){var e=this;clearTimeout(this.timeouts.resumeAd),this.timeouts.resumeAd=setTimeout(function(){e.diag.fire("VPAID_NONVITAL_METHOD_TIMEOUT")},u.default.vpaidCreativeMethodTimeout),this.adUnit.resumeAd()}},{key:"expandAd",value:function(){this.adUnit.expandAd()}},{key:"collapseAd",value:function(){this.adUnit.collapseAd()}},{key:"skipAd",value:function(){this.adUnit.skipAd()}},{key:"getAdLinear",value:function(){return this.adUnit.getAdLinear()}},{key:"getAdWidth",value:function(){return this.adUnit.getAdWidth()}},{key:"getAdHeight",value:function(){return this.adUnit.getAdHeight()}},{key:"getAdExpanded",value:function(){return this.adUnit.getAdExpanded()}},{key:"getAdSkippableState",value:function(){return this.props.adSkippableState=this.adUnit.getAdSkippableState(),this.props.adSkippableState}},{key:"getAdRemainingTime",value:function(){return this.adUnit.getAdRemainingTime()}},{key:"getAdDuration",value:function(){return this.adUnit.getAdDuration()}},{key:"setAdVolume",value:function(e){this.adUnit.setAdVolume(e)}},{key:"getAdVolume",value:function(){return this.adUnit.getAdVolume()}},{key:"getAdCompanions",value:function(){return this.adUnit.getAdCompanions()}},{key:"getAdIcons",value:function(){return this.adUnit.getAdIcons()}},{key:"callEventAdStopped",value:function(){clearTimeout(this.deferStopAdTimeout),this._callEvent("AdStopped")}}])&&c(e.prototype,i),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i,n})()},{"./config.js":18,"./constants.js":19,"./util/clock.js":31,"./util/getMediaFileType.js":33}]},{},[41])(41)});
//# sourceMappingURL=vista-2-1-94.js.map